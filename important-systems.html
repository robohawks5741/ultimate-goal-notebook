<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Engineering Notebook</title>
        <link rel="stylesheet" type="text/css" href="static/saved_files/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="static/saved_files/main.css">
        <link rel="stylesheet" href="static/saved_files/default.min.css">
        <script>
            MathJax = {
                tex: {
                    inlineMath: [['\\(', '\\)']]
                },
                svg: {
                    fontCache: 'global'
                }
            }
        </script>
        <style>
            .card h1.main {
                font-weight: bold;
            }
            .card h1 {
                margin: 20px 0px;
                font-weight: 200;
            }
            .card h2 {
                font-weight: normal;
            }
            .card h3 {
                font-weight: bold;
            }
        </style>
        <script type="text/javascript" id="MathJax-script" async="" src="static/saved_files/tex-svg.js.download"></script>
        <script src="static/saved_files/highlight.min.js.download"></script>
        <link rel="icon" href="static/img/favicon.ico">
    <style type="text/css">.CtxtMenu_InfoClose {  top:.2em; right:.2em;}
.CtxtMenu_InfoContent {  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}
.CtxtMenu_Info.CtxtMenu_MousePost {outline:none;}
.CtxtMenu_Info {  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}
</style><style type="text/css">.CtxtMenu_MenuClose {  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}
.CtxtMenu_MenuClose span {  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}
.CtxtMenu_MenuClose:hover {  color:white!important;  border:2px solid #CCC!important}
.CtxtMenu_MenuClose:hover span {  background-color:#CCC!important}
.CtxtMenu_MenuClose:hover:focus {  outline:none}
</style><style type="text/css">.CtxtMenu_Menu {  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}
.CtxtMenu_MenuItem {  padding: 1px 2em;  background:transparent;}
.CtxtMenu_MenuArrow {  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}
.CtxtMenu_MenuActive .CtxtMenu_MenuArrow {color:white}
.CtxtMenu_MenuArrow.CtxtMenu_RTL {left:.5em; right:auto}
.CtxtMenu_MenuCheck {  position:absolute; left:.7em;  font-family: null}
.CtxtMenu_MenuCheck.CtxtMenu_RTL { right:.7em; left:auto }
.CtxtMenu_MenuRadioCheck {  position:absolute; left: .7em;}
.CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {  right: .7em; left:auto}
.CtxtMenu_MenuInputBox {  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}
.CtxtMenu_MenuInputBox.CtxtMenu_RTL {  left: .1em;}
.CtxtMenu_MenuComboBox {  left:.1em; padding-bottom:.5em;}
.CtxtMenu_MenuSlider {  left: .1em;}
.CtxtMenu_SliderValue {  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}
.CtxtMenu_SliderBar {  outline: none; background: #d3d3d3}
.CtxtMenu_MenuLabel {  padding: 1px 2em 3px 1.33em;  font-style:italic}
.CtxtMenu_MenuRule {  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}
.CtxtMenu_MenuDisabled {  color:GrayText}
.CtxtMenu_MenuActive {  background-color: #606872;  color: white;}
.CtxtMenu_MenuDisabled:focus {  background-color: #E8E8E8}
.CtxtMenu_MenuLabel:focus {  background-color: #E8E8E8}
.CtxtMenu_ContextMenu:focus {  outline:none}
.CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {  outline:none}
.CtxtMenu_SelectionMenu {  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }
.CtxtMenu_SelectionItem {  padding-right: 1em;}
.CtxtMenu_Selection {  right: 40%; width:50%; }
.CtxtMenu_SelectionBox {  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}
.CtxtMenu_SelectionDivider {  clear: both; border-top: 2px solid #000000;}
.CtxtMenu_Menu .CtxtMenu_MenuClose {  top:-10px; left:-10px}
</style><style id="MJX-SVG-styles">
mjx-container[jax="SVG"] {
  direction: ltr;
}
mjx-container[jax="SVG"] > svg {
  overflow: visible;
}
mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}
mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
mjx-assistive-mml[display="block"] {
  width: 100% !important;
}
mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}
mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}
mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}
mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}
g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}
g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}
g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}
g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}
g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}
g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}
g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}
[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}
[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}
mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}
g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}
mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}
foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}
.MathJax path {
  stroke-width: 3;
}
</style></head>
    <body>
        <div class="jumbotron text-center cover">
            <img src="static/saved_files/robohawks.png" class="logo">
            <h1>Engineering Notebook - Important Systems</h1>
            <h2>RoboHawks | FTC #5741</h2>
            <p>Creating opportunities for real world engineering and hands-on learning in a safe environment for all students at CVU</p>
        </div>
        <hr>
        <div class="row contents">
            <div class="central-col col-md-12">
                <div>
                    <h1>Table of Contents</h1>
                    <ul>
                            <li><b><a href="#cardAutonomous-Wobble-Delivery-&amp;-Ring-Launching">Autonomous Wobble Delivery &amp; Ring Launching</a></b></li>
                            <ul>
                                        <div style="display:none">None</div>
                                        <div style="display:none">None</div>
                                    <li><a href="#cardAutonomous-Wobble-Delivery-&amp;-Ring-Launching-sprint3">Sprint 3</a></li>
                                    <li><a href="#cardAutonomous-Wobble-Delivery-&amp;-Ring-Launching-sprint4">Sprint 4</a></li>
                            </ul>
                            <li><b><a href="#cardOdometry-Math/Code">Odometry Math/Code</a></b></li>
                            <ul>
                                        <div style="display:none">None</div>
                                        <div style="display:none">None</div>
                                    <li><a href="#cardOdometry-Math/Code-sprint3">Sprint 3</a></li>
                                    <li><a href="#cardOdometry-Math/Code-sprint4">Sprint 4</a></li>
                            </ul>
                            <li><b><a href="#cardIntake-V2">Intake V2</a></b></li>
                            <ul>
                                        <div style="display:none">None</div>
                                        <div style="display:none">None</div>
                                    <li><a href="#cardIntake-V2-sprint3">Sprint 3</a></li>
                                    <li><a href="#cardIntake-V2-sprint4">Sprint 4</a></li>
                            </ul>
                            <li><b><a href="#cardShooter-V2">Shooter V2</a></b></li>
                            <ul>
                                        <div style="display:none">None</div>
                                        <div style="display:none">None</div>
                                    <li><a href="#cardShooter-V2-sprint3">Sprint 3</a></li>
                                    <li><a href="#cardShooter-V2-sprint4">Sprint 4</a></li>
                            </ul>
                            <li><b><a href="#cardRake-">Rake </a></b></li>
                            <ul>
                                        <div style="display:none">None</div>
                                        <div style="display:none">None</div>
                                    <li><a href="#cardRake--sprint2">Sprint 2</a></li>
                                    <li><a href="#cardRake--sprint3">Sprint 3</a></li>
                            </ul>
                            <li><b><a href="#cardWobble-Goal-pickup">Wobble Goal pickup</a></b></li>
                            <ul>
                                        <div style="display:none">None</div>
                                        <div style="display:none">None</div>
                                        <div style="display:none">None</div>
                                    <li><a href="#cardWobble-Goal-pickup-sprint2">Sprint 2</a></li>
                                    <li><a href="#cardWobble-Goal-pickup-sprint3">Sprint 3</a></li>
                                    <li><a href="#cardWobble-Goal-pickup-sprint4">Sprint 4</a></li>
                            </ul>
                    </ul>
                </div>
            </div>
        </div>
        <hr>
            <div class="jumbotron"></div>
            <div class="row">
                <div class="central-col col-md-12">
                    <div class="card">
                        <h1 class="main" id="cardAutonomous-Wobble-Delivery-&amp;-Ring-Launching">Autonomous Wobble Delivery &amp; Ring Launching</h1>
                        <div class="users type">
                                <a style="background-color: #FFF9C4">Programming</a>
                        </div>
                        <div class="users">
                                <a>Isaac Krementsov</a>
                        </div>
                        <h1 id="cardAutonomous-Wobble-Delivery-&amp;-Ring-Launching-goal">Goal</h1>
                            <p>Add to our autonomous driving code to:</p>
                            <li class="list-elem">Deliver the wobble to the correct drop zone, based on starter stack (15 points)</li>
                            <li class="list-elem">Fire the three pre-loaded rings into the high goal (36 points)</li>
                            <li class="list-elem">Park over the launch line (5 points)</li>
                        <h1 style="margin-bottom: 0">Entries</h1>
                                <h1 class="entry-sprint" id="cardAutonomous-Wobble-Delivery-&amp;-Ring-Launching-sprint3">Sprint 3</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>11/25/2020</h2>
                            <div class="columns">
                                    Ideation
                                    →
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today, I spent some time at Darkstar to write and test a working autonomous OpMode. Since we did not have a full field setup in the shop, I had been testing the code with a scaled-down tile size (10cm instead of 60cm). When I tried everything out on a full field that had marked drop zones, I realized that parts of the original path were incorrect, so I fixed those. </p>
                                        <p>Since the robot was already capable of driving to a drop zone based on the starter stack, my first priority was allowing it to actually drop the wobble. I was able to move the wobble arm as intended, but the sticky-pad claw setup turned out to be basically unusable without a human manually controlling the robot. When driving with the arm collapsed and the wobble in the claw, the wobble would usually fall out. If it managed to stay in, it would remain stuck to the claw when the arm was lowered for delivery. </p>
                                        <p>After that, I slightly modified the path again and added code for the robot to shoot three pre-loaded rings into the high goal. I had to tweak the final firing location a few times to aim accurately, but I eventually found a position where the robot consistently scored on every shot.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1HQhh6Ce_Id4isr1SocSFZuXPwLASAr8c/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_f822d3da-dc19-406f-8f00-8893eb4de8e9.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">autonomous.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 3 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Plans</h3>
                                        <p>Once the arm mechanism has a more workable claw, I will modify the code to utilize it and test autonomous with the actual wobble. If this works out (and I don't see why it shouldn't), we can score 56 points in the autonomous round. If the shooter is accurate enough, I might also try aiming for the power shots instead of the high goal, which could bump the score to 63.</p>
                                        <p>An issue I encountered a few times while testing was TensorFlow detecting a random part of the room as a quad stack when no rings were placed in the starter stack, causing the robot to go to target zone <i>c</i> instead of <i>a</i>. This seemed to be alleviated somewhat by waiting longer for autonomous to initialize and shifting the phone camera upwards (higher above the shooter lip). However, I would like to fix this permanently, either by adding some more constraints on TensorFlow object detection or using a new computer vision model. To make sure we have something working for scrimmages and the competition, I will start with the first fix. The second would definitely be helpful, though, since no well-trained machine learning model should be detecting a quad stack in empty space (and labeling it with 89% certainty!).</p>
                                <h1 class="entry-sprint" id="cardAutonomous-Wobble-Delivery-&amp;-Ring-Launching-sprint4">Sprint 4</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>12/25/2020</h2>
                            <div class="columns">
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>With the claw now added to the wobble arm, I was able to finalize and test the Autonomous OpMode this week. I started by adding code to operate the claw and moving the arm all the up before leaving the target zones. </p>
                                        <p>I then diagrammed a formal plan for the autonomous OpMode to check my code's sequence and measurements against.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://docs.google.com/drawings/d/1Ojo-LybHqCQDfuU_aMfwbp7cZ4o40O8QLzCPqIDPL7E/edit?usp=drivesdk" style="background-image: url(static/img/drive/bg_436fe8ec-02ab-4d25-8352-5463063ec800.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/vnd.google-apps.drawing">autonomous-v2 - EMBED INTO NOTION!!!!!</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 6 days ago</span>
                    </p>
                </a>
            </div>
                                        <p>Initially, the robot had issues with bumping the wall and going back to the wrong launch position. After making a series of tweaks to its path to avoid these issues, it was able to score the full 56 points (deliver wobble goal = 15, shoot 3 rings into the high goal = 3x12, park over launch line = 5) in most runs. However, the ongoing issues with TensorFlow's faulty object detection persisted.</p>
                                        <div class="column-list"><div class="column"><img src="static/saved_files/tensorflow1.jpg" height="auto" width="1600"></div><div class="column"><img src="static/saved_files/tensorflow2.jpg" height="auto" width="1280"></div><div class="column"><img src="static/saved_files/tensorflow3.jpg" height="auto" width="800"></div></div>
                                        <p>This will not be fully solved until we replace the existing system with OpenCV. However, to reduce detection error for the time being, I have changed the code so that the robot drives about 1/2 of a tile forward and waits 3 seconds before determining the target zone. This gives it a much better view of the rings, and, based on testing results, significantly decreases the frequency of incorrect detections.</p>
                                        <p>Once all of this was finished, I put together a video to demonstrate the results.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1P4a99BvL5D2yiP18i7_dRrup-aAmtcDa/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_01f21c0a-6483-40c7-87b4-a5e9e9ec63c9.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">latest_autonomous.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Plans</h3>
                                        <p>There are still several improvements that can still be made to the autonomous code. As I mentioned, a custom-trained OpenCV model will detect rings with significantly more accuracy than the current TensorFlow one. Additionally, using odometry instead of encoder driving will help the robot navigate the field much faster and more precisely, hopefully giving us enough time to deliver a second wobble goal (which is an extra 15 points) and/or hit the power shots (which scores 9 points more than targeting the high goal). </p>
                            <hr>
                            <h2>03/02/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                            </div>
                                    <h3>Progress</h3>
                                        <p>After I was done tuning the position controller today, I copied and edited the <code class="inline-snippet">AutonDraft</code> OpMode to position the robot with a <code class="inline-snippet">ControlledDrivetrain</code> rather than wheel encoders. When I tested this code, the robot initially had issues moving its wheels in the right directions and started circling around the field. This turned out to be due to incorrect motor names and threaded tasks running non-sequentially (<code class="inline-snippet">controlledDrivetrain.isBusy()</code> was called before the thread had finished <code class="inline-snippet">setPosition()</code>), which I fixed by correcting the names and adding short <code class="inline-snippet">Time.sleep</code> pauses between synchronous threaded methods. </p>
                                        <p>When I tested it after these changes, position control seemed to function properly; however, the x-coordinates were inverted in my positioning measurements because I measured from the right wall but entered the measurements as positive. I didn't have time to run another test, but I changed the <code class="inline-snippet">setPosition()</code> code to use inverted x-coordinates by default.</p>
                                        <p>Since position control seems to work much faster and more accurately than using wheel encoders, I'm hoping that our final autonomous OpMode will be able to aim for the powershots instead of the high goal.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://docs.google.com/drawings/d/1pYqq8ZaBWRBSTHG7lDoN60Pk1Am6_jDU7DSPVJo0tTU/edit?usp=drivesdk" style="background-image: url(static/img/drive/bg_247d7eba-2eea-4331-8ff3-6114f0f8446c.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/vnd.google-apps.drawing">autonomous-v3</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 6 days ago</span>
                    </p>
                </a>
            </div>
                                        <p>This can easily give us up to 9 extra points, so I think it's definitely worthwhile to implement.</p>
                                    <h3>Plans</h3>
                                        <p>Once I go to DarkStar again, I'll test my existing autonomous OpMode and, if it works, start adding code for the powershots. Hopefully, I can finish this before the competition next week.</p>
                            <hr>
                            <h2>03/05/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                            </div>
                                    <h3>Progress</h3>
                                        <p>This weekend, I tested Autonomous v3 at DarkStar. I started by finding exact PowerShot locations for driver control (see <i>Finalized TeleOP Code</i>) and then testing them in autonomous. There were a few runs where the robot could hit some of the targets, but, in general, the accuracy was poor. </p>
                                        <p>In an attempt to fix this, Cailean and I used the odometry logging in <code class="inline-snippet">DriveV2</code> to re-adjust the shooting locations. While these locations worked after the robot touched off in driver control, small differences in intial heading resulted in inconsistent autonomous performance. </p>
                                        <p>Ultimately, aiming for the powershots not only resulted in scoring very few points (in most cases), but also took up quite a bit of time, since the robot had to settle at 3 different locations. Shooting for the high goal, on the other hand, took less time and was far more consistent. For those reasons, I decided to go with that approach and (more than) make up the missing 9 points by either delivering a second wobble goal or shooting the starter stack rings.</p>
                                        <p>Since accurately intaking the stack seemed difficult (our intake system usually requires pauses between rings), I started by going for the second wobble. Once I found the right positions using <code class="inline-snippet">DriveV2</code>, this worked well when I tested it on target zones A and B. However, I had trouble making the 30-second time limit with the additional distance required for zone C. Additionally, I had to intake at least some of the starter stack when driving over it to avoid rings getting stuck under the robot. Because of these factors, and the fact that just scoring 2 of the 4 rings in the high goal would give us more points than dropping the wobble, I changed the autonomous strategty for target zone C. This culminated in the (slightly convoluted) plan for Autonomous v3.1, which can actually score more points than v3 (up to 71 for zones A and B, and up to 92 for zone C):</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://docs.google.com/drawings/d/1LiyaTj-_RZoFTD9NlTkC70WgG8vikICA7wbcSNiPonI/edit?usp=drivesdk" style="background-image: url(static/img/drive/bg_a524af65-3a3b-46e5-8cde-338c3cc4cdc9.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/vnd.google-apps.drawing">autonomous-v3.1</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 1 day ago</span>
                    </p>
                </a>
            </div>
                                        <p>Below is a testing video with all 3 starter stacks:</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1hT226O8pOQ1FrDQfsCwkboArHXnkP0h3/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_0c72b292-f17d-4bad-b292-93747f8214df.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">AutonV3.1.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 2 days ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>It's really important to have an exact initial position for precise movements. In the future, we should probably use distance sensors, GPS, or VuMarks to determine this more accurately. If this isn't posible, it makes more sense to focus on tasks that have more "wiggle room" or can be manually adjusted.</p>
                                    <h3>Plans</h3>
                                        <p>We will be doing our competition matches next week, so I'll continue testing and making fine adjustments to make sure this OpMode can consistently score points.</p>
                    </div>
                </div>
            </div>
            <div class="jumbotron"></div>
            <div class="row">
                <div class="central-col col-md-12">
                    <div class="card">
                        <h1 class="main" id="cardOdometry-Math/Code">Odometry Math/Code</h1>
                        <div class="users type">
                                <a style="background-color: #FFF9C4">Programming</a>
                        </div>
                        <div class="users">
                                <a>Isaac Krementsov</a>
                        </div>
                        <h1 id="cardOdometry-Math/Code-goal">Goal</h1>
                            <p>Write the code (and learn the math) necessary for a working odometry system. Mechanically, this will consist of three dead encoder wheels to read position. The code will need to use the encoder values to accurately record the robot's x coordinate, y coordinate, and heading.</p>
                        <h1 style="margin-bottom: 0">Entries</h1>
                                <h1 class="entry-sprint" id="cardOdometry-Math/Code-sprint3">Sprint 3</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>11/30/2020</h2>
                            <div class="columns">
                                    Ideation
                                    →
                                    Done
                            </div>
                                    <h3>Progress</h3>
                                        <p>During my synchronous days this week, I worked on learning some of the math/coding necessary for implementing three-point dead wheel odometry. I couldn't find any resources that provided all of the information I needed, so I took bits and pieces from the videos below.</p>
                                        <div class="column-list"><div class="column"><iframe height="300" width="500" src="static/saved_files/cpdPtN4BDug.html"></iframe></div><div class="column"><iframe height="300" width="500" src="static/saved_files/_T6KHywSP58.html"></iframe></div><div class="column"><iframe height="300" width="500" src="static/saved_files/-EJcpMsWJO4.html"></iframe></div></div>
                                        <p>Most of the mathematical proofs and formulas I took notes on came from the Aluminum Cobblers' (FTC#5436) guide. Only two parts are currently on YouTube (and the last one was uploaded 7 months ago), but it seems that there was supposed to be a third part explaining odometry with a third wheel not at the exact center of the robot. I couldn't find information on this in any other math tutorials, so I asked for help on Reddit.</p>
                                        <div style="display: flex">
                <a class="web-bookmark" href="https://www.reddit.com/r/FTC/comments/k4ykpu/odometry_math_with_a_back_wheel/" style="background-image: url(static/img/bookmark/bg_8d440e91-bd2f-4273-a9b0-5d5c918e242c.jpg)">
                    <p>
                        <span class="bookmark-title">Odometry Math with a Back Wheel</span>
                        <span class="bookmark-description">Hi all, My team is currently trying to add an odometry system to ..</span>
                    </p>
                </a>
            </div>
                                        <p>It turns out that the odometry algorithm from the second part of their video just had to be modified to compensate for back encoder ticks per degree of rotation (using an experimentally measured constant).</p>
                                        <p>Below are the notes I took:</p>
                                        <div class="column-list"><div class="column"><img src="static/saved_files/page1odometry.jpg" height="auto" width="2601"></div><div class="column"><img src="static/saved_files/page2odometry.jpg" height="auto" width="2801"></div><div class="column"><img src="static/saved_files/page3odometry.jpg" height="auto" width="2435"></div></div>
                                    <h3>Takeaways</h3>
                                        <p>After gathering information from all of the resources, I ended up with the following odometry model to track very small changes in position (<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="0" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="1" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.109ex" height="1.464ex" role="img" focusable="false" viewBox="0 -442 490 647" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></mjx-assistive-mml></mjx-container>) and heading (<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="2" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container>):</p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="3" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="43.725ex" height="10.048ex" role="img" focusable="false" viewBox="0 -2470.7 19326.5 4441.4" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -4.459ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mrow" transform="translate(520, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 996)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1006)"></use><svg width="667" height="402" y="49" x="0" viewBox="0 100.5 667 402"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.002)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1400)"><g data-mml-node="mtd" transform="translate(12, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g></g><g data-mml-node="mtr"><g data-mml-node="mtd" transform="translate(53, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1400)"><g data-mml-node="mtd"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g><g data-mml-node="mo" transform="translate(1263, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 996)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1006)"></use><svg width="667" height="402" y="49" x="0" viewBox="0 100.5 667 402"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.002)"></use></svg></g></g><g data-mml-node="mo" transform="translate(2727.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3783.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1316.7)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1326.7)"></use><svg width="667" height="1043.4" y="-271.7" x="0" viewBox="0 260.8 667 1043.4"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 2.6)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1495)"><g data-mml-node="mtd"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D446"></use></g><g data-mml-node="mi" transform="translate(1331.7, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(2669.7, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(2669.7, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(3058.7, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(3876.9, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(4877.1, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(6106.2, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(6717.5, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(7717.7, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(8237.7, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mi" transform="translate(9155.4, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(10383.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(10383.4, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(10772.4, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(11590.6, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(12590.8, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(13819.9, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -225.7)"><g data-mml-node="mtd"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D446"></use></g><g data-mml-node="mi" transform="translate(1331.7, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(2559.7, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(2559.7, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(2948.7, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(3766.9, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(4767.1, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(5996.2, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(6607.5, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(7607.7, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(8127.7, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mi" transform="translate(9045.4, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(10383.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(10383.4, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(10772.4, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(11590.6, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(12590.8, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(13819.9, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1720.7)"><g data-mml-node="mtd" transform="translate(6546.5, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g><g data-mml-node="mo" transform="translate(14875.9, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1316.7)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1326.7)"></use><svg width="667" height="1043.4" y="-271.7" x="0" viewBox="0 260.8 667 1043.4"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 2.6)"></use></svg></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>ϕ</mi></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mi>d</mi><mi>S</mi><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo><mo>+</mo><mi>d</mi><mi>P</mi><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mi>d</mi><mi>S</mi><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi>d</mi><mi>P</mi><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mi>d</mi><mi>ϕ</mi></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="4" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="11.75ex" height="2.809ex" role="img" focusable="false" viewBox="0 -888.7 5193.3 1241.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.798ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(1393.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(2449.6, 0)"><g data-mml-node="mrow" transform="translate(220, 398) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D445"></use></g><g data-mml-node="mo" transform="translate(1279, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(2057, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(2577, 0)"><use xlink:href="#MJX-TEX-I-1D43F"></use></g></g><g data-mml-node="mi" transform="translate(1118.7, -345) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D464"></use></g><rect width="2503.8" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>ϕ</mi><mo>=</mo><mfrac><mrow><mi>d</mi><mi>R</mi><mo>−</mo><mi>d</mi><mi>L</mi></mrow><mi>w</mi></mfrac></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="5" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="16.343ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 7223.7 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mo" transform="translate(1548.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(2604.6, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(3124.6, 0)"><use xlink:href="#MJX-TEX-I-1D435"></use></g><g data-mml-node="mo" transform="translate(4105.8, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="msub" transform="translate(5106, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g><g data-mml-node="mi" transform="translate(6107.7, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(6627.7, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>P</mi><mo>=</mo><mi>d</mi><mi>B</mi><mo>−</mo><msub><mi>T</mi><mi>d</mi></msub><mi>d</mi><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="6" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="29.306ex" height="7.234ex" role="img" focusable="false" viewBox="0 -1848.8 12953.4 3197.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -3.052ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D446"></use></g><g data-mml-node="mo" transform="translate(1442.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(2498.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-7B"></use></g><g data-mml-node="mtable" transform="translate(806, 0)"><g data-mml-node="mtr" transform="translate(0, 574.9)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220, 584) scale(0.707)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(389, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(909, 0)"><use xlink:href="#MJX-TEX-I-1D445"></use></g><g data-mml-node="mo" transform="translate(1668, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(2446, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(2966, 0)"><use xlink:href="#MJX-TEX-I-1D43F"></use></g><g data-mml-node="mo" transform="translate(3647, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(4202.7, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(5430.7, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(5430.7, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mfrac" transform="translate(5819.7, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(7048.8, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g><g data-mml-node="mrow" transform="translate(2455.1, -345) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><rect width="5459.3" height="60" x="120" y="220"></rect></g></g><g data-mml-node="mtd" transform="translate(6699.3, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(1393.8, 0)"><use xlink:href="#MJX-TEX-N-2260"></use></g><g data-mml-node="mn" transform="translate(2449.6, 0)"><use xlink:href="#MJX-TEX-N-30"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1003.8)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220, 398) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D445"></use></g><g data-mml-node="mo" transform="translate(1279, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(2057, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(2577, 0)"><use xlink:href="#MJX-TEX-I-1D43F"></use></g></g><g data-mml-node="mn" transform="translate(1195.1, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="2503.8" height="60" x="120" y="220"></rect></g></g><g data-mml-node="mtd" transform="translate(6699.3, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(1393.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(2449.6, 0)"><use xlink:href="#MJX-TEX-N-30"></use></g></g></g></g><g data-mml-node="mo" transform="translate(10454.9, 0)"></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>S</mi><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">{</mo><mtable columnalign="left left" columnspacing="1em" rowspacing=".2em"><mtr><mtd><mfrac><mrow><mo stretchy="false">(</mo><mi>d</mi><mi>R</mi><mo>+</mo><mi>d</mi><mi>L</mi><mo stretchy="false">)</mo><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mrow><mrow><mi>d</mi><mi>ϕ</mi></mrow></mfrac></mtd><mtd><mi>d</mi><mi>ϕ</mi><mo>≠</mo><mn>0</mn></mtd></mtr><mtr><mtd><mfrac><mrow><mi>d</mi><mi>R</mi><mo>+</mo><mi>d</mi><mi>L</mi></mrow><mn>2</mn></mfrac></mtd><mtd><mi>d</mi><mi>ϕ</mi><mo>=</mo><mn>0</mn></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE" fence="true" stretchy="true" symmetric="true"></mo></mrow></math></mjx-assistive-mml></mjx-container></p>
                                        <p>In the equations, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="7" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.894ex" height="1.618ex" role="img" focusable="false" viewBox="0 -694 1279 715" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.048ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D445"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>R</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="8" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.717ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 1201 704" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.023ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D43F"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>L</mi></math></mjx-assistive-mml></mjx-container>, and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="9" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.894ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 1279 704" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.023ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D435"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>B</mi></math></mjx-assistive-mml></mjx-container> are the distance change readings from the right, left, and back encoders, respectively. <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="10" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.62ex" height="1.027ex" role="img" focusable="false" viewBox="0 -443 716 454" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D464"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></mjx-assistive-mml></mjx-container> is the distance between the left and right encoders (which should ideally be symmetrically placed) and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="11" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> is the number of back encoder ticks per degree of rotation (this should be measured experimentally or through calibration).</p>
                                        <p>Since the <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="12" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.636ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 1165 727" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D446"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>S</mi></math></mjx-assistive-mml></mjx-container> value is calculated with the assumption that the robot moves in an arc, not a straight line (in which case <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="13" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="11.86ex" height="2.791ex" role="img" focusable="false" viewBox="0 -888.7 5242.3 1233.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.781ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D446"></use></g><g data-mml-node="mo" transform="translate(1442.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(2498.6, 0)"><g data-mml-node="mrow" transform="translate(220, 398) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D445"></use></g><g data-mml-node="mo" transform="translate(1279, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(2057, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(2577, 0)"><use xlink:href="#MJX-TEX-I-1D43F"></use></g></g><g data-mml-node="mn" transform="translate(1195.1, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="2503.8" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>S</mi><mo>=</mo><mfrac><mrow><mi>d</mi><mi>R</mi><mo>+</mo><mi>d</mi><mi>L</mi></mrow><mn>2</mn></mfrac></math></mjx-assistive-mml></mjx-container> for all <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="14" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.525ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 1116 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container>),  over short time steps, this odometry algorithm should be quite accurate, even if hardware cycles are sometimes longer.</p>
                                        <p>At the end of each hardware cycle, the changes in each position measurement can simply be added to the running total.</p>
                                        <p>Another important note I found in the more code-based tutorial by Wizards.exe (FTC#9794) is that odometry should been run on a separate thread to the main OpMode. Otherwise, any code in the <code class="inline-snippet">loop</code> or <code class="inline-snippet">runOpMode</code> methods will be singificantly slowed down by constant positioning updates and calculations.</p>
                                    <h3>Plans</h3>
                                        <p>At this point, I have all of the information I need to start writing the code for odometry. I will have to wait for the mechanical team to actually add the dead wheels before I can test it, but for now I can at least work on a prototype.</p>
                            <hr>
                            <h2>12/03/2020</h2>
                            <div class="columns">
                                    Ideation
                                    →
                                    Prototyping
                            </div>
                                    <h3>Progress</h3>
                                        <p>For my asynchronous days, I worked on translating the odometry formulas I found earlier in the week to actual code. </p>
                                        <p>Using information from the <a href="https://www.youtube.com/watch?v=cpdPtN4BDug&amp;feature=emb^!_logo">Wizards.exe video</a>, I added a <code class="inline-snippet">Runnable</code> position update class, <code class="inline-snippet">Odometry</code>, to the API. This allows position updates to take place on a separate thread from the running OpMode, preventing  To demonstrate its use, I also wrote the <code class="inline-snippet">OdometryTest</code> OpMode, which displays the robot's position coordinates as it is driven around the field. </p>
                                        <pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OdometryTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">OpMode</span> </span>{
    <span class="hljs-keyword">private</span> Robot bot;
    <span class="hljs-keyword">private</span> Odometry positionTracker;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> power = <span class="hljs-number">0.5</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> circumference = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> ticksPerRev = <span class="hljs-number">280</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> width = <span class="hljs-number">30</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> backTicksPerDegree = <span class="hljs-number">1</span>;
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.bot = <span class="hljs-keyword">new</span> Robot(hardwareMap, telemetry);
        bot.addDrivetrain(<span class="hljs-keyword">new</span> String[]{<span class="hljs-string">"mRF"</span>, <span class="hljs-string">"mLF"</span>, <span class="hljs-string">"mRB"</span>, <span class="hljs-string">"mLB"</span>}, <span class="hljs-keyword">true</span>);
        DcMotorX motorR = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"motorR"</span>), ticksPerRev, circumference);
        DcMotorX motorL = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"motorL"</span>), ticksPerRev, circumference);
        DcMotorX motorB = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"motorB"</span>), ticksPerRev, circumference);
        positionTracker = <span class="hljs-keyword">new</span> Odometry(motorR, motorL, motorB, backTicksPerDegree, <span class="hljs-number">10</span>, width, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        Thread positionThread = <span class="hljs-keyword">new</span> Thread(positionTracker);
        positionThread.start();
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">double</span> leftX = gamepad1.left_stick_x;
        <span class="hljs-keyword">double</span> rightX = gamepad1.right_stick_x;
        <span class="hljs-keyword">double</span> rightY = -gamepad1.right_stick_y; <span class="hljs-comment">// Reads negative from the controller</span>
        <span class="hljs-comment">// Drive the robot with joysticks if they are moved</span>
        <span class="hljs-keyword">if</span>(Math.abs(leftX) &gt; <span class="hljs-number">.1</span> || Math.abs(rightX) &gt; <span class="hljs-number">.1</span> || Math.abs(rightY) &gt; <span class="hljs-number">.1</span>) {
            bot.drive(power, leftX, rightX, rightY);
        }<span class="hljs-keyword">else</span>{
            <span class="hljs-comment">// If the joysticks are not pressed, do not move the bot</span>
            bot.stop();
        }
        telemetry.addData(<span class="hljs-string">"x"</span>, positionTracker.x);
        telemetry.addData(<span class="hljs-string">"y"</span>, positionTracker.y);
        telemetry.addData(<span class="hljs-string">"heading"</span>, positionTracker.phi);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stop</span><span class="hljs-params">()</span></span>{
        positionTracker.stop();
    }</code></pre>
                                        <p>To simplify the code in <code class="inline-snippet">Odometry</code>, I added the <code class="inline-snippet">DcMotorX</code> class to the API (and an in-progress <a href="http://notion.so/DcMotorX-6f78a2bd9f144c5791de8fef8621e37e">documentation page</a>). </p>
                                    <h3>Takeaways</h3>
                                        <p>The new <code class="inline-snippet">Odometry</code> and <code class="inline-snippet">DcMotorX</code> are part of the shift to "API v2" that I discussed with Kaiden last week. Until recently, all of our API code has been contained in the <code class="inline-snippet">Robot</code> class. Putting a huge set of features into a single class prevents modularity — which was why <code class="inline-snippet">Odometry</code> was made a separate class — so we are shifting away from that model and towards self-contained objects. The most basic classes will extend basic FTC API objects with useful features and more intuitive functionality (<code class="inline-snippet">DcMotorX</code>, for example, extends <code class="inline-snippet">DcMotor</code>s). More complex classes will be built on the basic ones and perform tasks like drivetrain control, odometry, and computer vision. </p>
                                        <p>The modularity will also allow for detailed documentation of individual components and more extensibility for later teams.</p>
                                    <h3>Plans</h3>
                                        <p>Since the mechanical team will probably not be adding odometry modules next week, my primary goal will be to write a drivetrain PID controller that uses odometry to go to, and maintain, a particular position on the field. Along the way, I will also be adding to API v2 and documenting some of the new features.</p>
                            <hr>
                            <h2>12/07/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>On Monday and Tuesday, I worked on writing a PID controller for the robot's position, based on odometry readings. The first step to doing this was to work out the math for correcting the robot's position, pictured below.</p>
                                        <img src="static/saved_files/pid_control.jpg" height="auto" width="336">
                                        <p>Since the odometer tracks the x, y, and heading coordinates, the robot's positional error is the difference between each of these coordinates and the target. However, the robot's only options for motion are linear, perpendicular/strafing, and rotational. Rotational motion directly corresponds to changes in the robot's heading, so controlling that coordinate is straightforward. However, motion that is linear/perpendicular in reference to the robot's position has a more complex relationship with the x and y directions. More precisely, the two coordinate systems are related by the heading <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="15" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container>'s rotation matrix, which I inverted to get from the robot's frame to x and y. Angela Soddman's YouTube lecture was really helpful in filling in my understanding of rotation matrices.</p>
                                        <iframe height="300" width="500" src="static/saved_files/lVjFhNv2N8o.html"></iframe>
                                        <p>Once I had the formulae (see <i>^!_Takeaways</i>^!_) for controlling the robot's linear, perpendicular, and rotational speeds, I worked on adding them to the code. I started this by adding a new API v2 class, <code class="inline-snippet">Drivetrain</code>, which uses <code class="inline-snippet">DcMotorX</code>s to provide a simple API for driving the robot. I then extended it with <code class="inline-snippet">ControlledDrivetrain</code>, which auto-drives the robot using the PID controller and the <a href="http://drivetrain.drive/"><code class="inline-snippet">Drivetrain.drive</code></a> method (which uses linear, strafe, and yaw speed to drive the robot <a href="https://notion.so/1ffe8936e31744a6ab2e935f46497acd?v=094168f6e4ae4a3cbc33f17d749f0ad0">according to the documentation</a>). </p>
                                        <p>I then wrote a test autonomous OpMode which drives the robot from a starting position to a target and then back again. If everything works properly, the robot's final position should be almost exactly the same as where it started.</p>
                                        <pre><code class="java hljs"><span class="hljs-meta">@Autonomous</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PositionControlTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">LinearOpMode</span> </span>{
    ControlledDrivetrain drivetrain;
    <span class="hljs-comment">// Encoder wheel information</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> circumference = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> ticksPerRev = <span class="hljs-number">280</span>;
    <span class="hljs-comment">// Robot width and back encoder wheel ticks per degree</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> width = <span class="hljs-number">30</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> backTicksPerDegree = <span class="hljs-number">1</span>;
    <span class="hljs-comment">// Initial position</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> x0 = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> y0 = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> phi0 = <span class="hljs-number">0</span>;
    <span class="hljs-comment">// Size of a tile on the field (in cm)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> TILE_SIZE = <span class="hljs-number">60.95</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runOpMode</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment">// Get all of the drivetrain motors</span>
        DcMotorX mRF= <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mRF"</span>)),
                mLF = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mRF"</span>)),
                mRB = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mRB"</span>)),
                mLB = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mLB"</span>));
        <span class="hljs-comment">// Get the odometry wheels</span>
        DcMotorX wheelR = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"wheelR"</span>), ticksPerRev, circumference),
                wheelL = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"wheelL"</span>), ticksPerRev, circumference),
                wheelB = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"wheelB"</span>), ticksPerRev, circumference);
        <span class="hljs-comment">// Create an odometry instance for the drivetrain</span>
        Odometry positionTracker = <span class="hljs-keyword">new</span> Odometry(wheelR, wheelL, wheelB, backTicksPerDegree, <span class="hljs-number">10</span>, width, x0, y0, phi0);
        <span class="hljs-comment">// Instantiate the PID-controlled drivetrain</span>
        drivetrain = <span class="hljs-keyword">new</span> ControlledDrivetrain(mRF, mLF, mRB, mLB, positionTracker, <span class="hljs-keyword">true</span>);
        <span class="hljs-comment">// Run it in a separate thread</span>
        Thread drivetrainThread = <span class="hljs-keyword">new</span> Thread(drivetrain);
        waitForStart();
        <span class="hljs-comment">// Start the thread</span>
        drivetrainThread.start();
        <span class="hljs-comment">// Tell the drivetrain to actively correct position errors</span>
        drivetrain.setActive(<span class="hljs-keyword">true</span>);
        <span class="hljs-comment">// Drive to (x=1 tile, y=3 tiles, heading=20 degrees)</span>
        drivetrain.setPosition(TILE_SIZE, TILE_SIZE*<span class="hljs-number">3</span>, <span class="hljs-number">20</span>);
        <span class="hljs-comment">// Wait for the robot to get to the target position</span>
        <span class="hljs-keyword">while</span>(!isStopRequested() &amp;&amp; drivetrain.isBusy());
        <span class="hljs-comment">// Go back to the original position</span>
        drivetrain.setPosition(x0, y0, phi0);
        <span class="hljs-comment">// Wait for the robot to get back</span>
        <span class="hljs-keyword">while</span>(!isStopRequested() &amp;&amp; drivetrain.isBusy());
    }
}</code></pre>
                                        <p>Since the odometry wheels are not on the robot yet, I couldn't test this. However, I was able to test a simpler TeleOp OpMode that uses the <code class="inline-snippet">Drivetrain</code> class to drive the robot with a gamepad. This worked as expected, and with no controller delay, meaning that the <code class="inline-snippet">DcMotorX</code>  class works to control DcMotors (note that the front left wheel was unplugged).</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1LsKYHBFMn-nD7--mny-3PHY76bfRed6A/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_b0c5272c-ee50-455c-af3c-a7a948a05c91.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">APIv2.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 3 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>After working out the math, the final formula I obtained for linear (<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="16" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.257ex" height="1.656ex" role="img" focusable="false" viewBox="0 -722 555.6 732" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.023ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi" transform="translate(15.5, 0)"><use xlink:href="#MJX-TEX-I-1D460"></use></g><g data-mml-node="mo" transform="translate(55.6, -47)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover><mi>s</mi><mo>˙</mo></mover></mrow></math></mjx-assistive-mml></mjx-container>), perpendicular/strafing (<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="17" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.323ex" height="2.072ex" role="img" focusable="false" viewBox="0 -722 584.8 916" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.439ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(84.8, -47)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover><mi>p</mi><mo>˙</mo></mover></mrow></math></mjx-assistive-mml></mjx-container>), and rotational (<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="18" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.428ex" height="2.667ex" role="img" focusable="false" viewBox="0 -974 631.3 1179" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(131.3, 205)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover><mi>ϕ</mi><mo>˙</mo></mover></mrow></math></mjx-assistive-mml></mjx-container>) velocity is:</p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="19" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="33.572ex" height="9.104ex" role="img" focusable="false" viewBox="0 -2262 14838.9 4024" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -3.986ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1108)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1118)"></use><svg width="667" height="626" y="-63" x="0" viewBox="0 156.5 667 626"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.56)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1512)"><g data-mml-node="mtd" transform="translate(37.8, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi" transform="translate(15.5, 0)"><use xlink:href="#MJX-TEX-I-1D460"></use></g><g data-mml-node="mo" transform="translate(55.6, -47)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g><g data-mml-node="mtr" transform="translate(0, 112)"><g data-mml-node="mtd" transform="translate(23.2, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(84.8, -47)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g><g data-mml-node="mtr" transform="translate(0, -1512)"><g data-mml-node="mtd"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(131.3, 205)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g></g><g data-mml-node="mo" transform="translate(1298.3, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1108)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1118)"></use><svg width="667" height="626" y="-63" x="0" viewBox="0 156.5 667 626"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.56)"></use></svg></g></g><g data-mml-node="mo" transform="translate(2243.1, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3298.9, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1063.4)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1073.4)"></use><svg width="667" height="536.9" y="-18.4" x="0" viewBox="0 134.2 667 536.9"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.338)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1467.4)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g><g data-mml-node="mo" transform="translate(1169.5, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(1558.5, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(1919.5, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(2475.1, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(3813.1, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(3979.8, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(4798, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(5798.2, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g><g data-mml-node="mo" transform="translate(6909.7, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(7298.7, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(7659.7, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(8215.4, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(9443.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(9610.1, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, 22.5)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g><g data-mml-node="mo" transform="translate(1111.5, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(1500.5, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(1861.5, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(2417.1, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(3755.1, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(3921.8, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(4740, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="msub" transform="translate(5740.3, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g><g data-mml-node="mo" transform="translate(6909.7, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(7298.7, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(7659.7, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(8215.4, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(9443.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(9610.1, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1422.5)"><g data-mml-node="mtd" transform="translate(4509.8, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="TeXAtom" transform="translate(715, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g></g></g><g data-mml-node="mo" transform="translate(10873.1, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1063.4)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1073.4)"></use><svg width="667" height="536.9" y="-18.4" x="0" viewBox="0 134.2 667 536.9"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.338)"></use></svg></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mrow><mover><mi>s</mi><mo>˙</mo></mover></mrow></mtd></mtr><mtr><mtd><mrow><mover><mi>p</mi><mo>˙</mo></mover></mrow></mtd></mtr><mtr><mtd><mrow><mover><mi>ϕ</mi><mo>˙</mo></mover></mrow></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mi>C</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi><mo>+</mo><msub><mi>C</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi></mtd></mtr><mtr><mtd><msub><mi>C</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi><mo>−</mo><msub><mi>C</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi></mtd></mtr><mtr><mtd><msub><mi>C</mi><mrow><mi>ϕ</mi></mrow></msub></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="20" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.646ex" height="1.952ex" role="img" focusable="false" viewBox="0 -705 1169.5 862.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>C</mi><mi>x</mi></msub></math></mjx-assistive-mml></mjx-container>, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="21" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.515ex" height="2.262ex" role="img" focusable="false" viewBox="0 -705 1111.5 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.667ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>C</mi><mi>y</mi></msub></math></mjx-assistive-mml></mjx-container>, and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="22" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.684ex" height="2.262ex" role="img" focusable="false" viewBox="0 -705 1186.4 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.667ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="TeXAtom" transform="translate(715, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>C</mi><mrow><mi>ϕ</mi></mrow></msub></math></mjx-assistive-mml></mjx-container> represent the corrections that the PID controller should make to <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="23" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="24" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.109ex" height="1.464ex" role="img" focusable="false" viewBox="0 -442 490 647" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></mjx-assistive-mml></mjx-container>, and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="25" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container>. They can be calculated as a correction vector <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="26" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.719ex" height="2.455ex" role="img" focusable="false" viewBox="0 -1063 760 1085" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mo" transform="translate(247, 249)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover><mi>C</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container> using the error vector <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="27" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.729ex" height="2.348ex" role="img" focusable="false" viewBox="0 -1038 764 1038" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(234.8, 224)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover><mi>E</mi><mo stretchy="false">→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container> and PID tuning coefficients <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="28" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.326ex" height="2.695ex" role="img" focusable="false" viewBox="0 -1041 1470 1191" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mo" transform="translate(280.1, 227)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mi" transform="translate(889, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow><mover><mi>K</mi><mo stretchy="false">→</mo></mover></mrow><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container>, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="29" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.931ex" height="2.695ex" role="img" focusable="false" viewBox="0 -1041 1295.4 1191" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mo" transform="translate(280.1, 227)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mi" transform="translate(889, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow><mover><mi>K</mi><mo stretchy="false">→</mo></mover></mrow><mi>I</mi></msub></math></mjx-assistive-mml></mjx-container>, and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="30" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.449ex" height="2.695ex" role="img" focusable="false" viewBox="0 -1041 1524.5 1191" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mo" transform="translate(280.1, 227)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mi" transform="translate(889, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow><mover><mi>K</mi><mo stretchy="false">→</mo></mover></mrow><mi>D</mi></msub></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="31" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="57.495ex" height="8.801ex" role="img" focusable="false" viewBox="0 -2195 25413 3889.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -3.835ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mo" transform="translate(247, 249)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mo" transform="translate(760, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(1149, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(1510, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(2176.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3232.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1041)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1051)"></use><svg width="667" height="491.9" y="4" x="0" viewBox="0 123 667 491.9"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.226)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1445)"><g data-mml-node="mtd" transform="translate(8.5, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g><g data-mml-node="mo" transform="translate(1169.5, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(1558.5, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(1919.5, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, 45)"><g data-mml-node="mtd" transform="translate(37.5, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g><g data-mml-node="mo" transform="translate(1111.5, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(1500.5, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(1861.5, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1400)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="TeXAtom" transform="translate(715, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g><g data-mml-node="mo" transform="translate(1186.4, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(1575.4, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(1936.4, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g></g><g data-mml-node="mo" transform="translate(2992.4, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1041)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1051)"></use><svg width="667" height="491.9" y="4" x="0" viewBox="0 123 667 491.9"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.226)"></use></svg></g></g><g data-mml-node="mo" transform="translate(7169.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="msub" transform="translate(8225.5, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mo" transform="translate(280.1, 227)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mi" transform="translate(889, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g><g data-mml-node="mo" transform="translate(9917.8, 0)"><use xlink:href="#MJX-TEX-N-22C5"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(10418, 0)"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(234.8, 224)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mo" transform="translate(11182, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(11571, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(11932, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(12543.3, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(13543.5, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mo" transform="translate(280.1, 227)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mi" transform="translate(889, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g><g data-mml-node="mo" transform="translate(15061.1, 0)"><use xlink:href="#MJX-TEX-N-22C5"></use></g><g data-mml-node="msubsup" transform="translate(15561.3, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-SO-222B"></use></g><g data-mml-node="mi" transform="translate(666.9, 532.6) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mn" transform="translate(472, -340.9) scale(0.707)"><use xlink:href="#MJX-TEX-N-30"></use></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(16700.1, 0)"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(234.8, 224)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mo" transform="translate(17464.1, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(17853.1, 0)"><use xlink:href="#MJX-TEX-I-1D70F"></use></g><g data-mml-node="mo" transform="translate(18370.1, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(18759.1, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(19279.1, 0)"><use xlink:href="#MJX-TEX-I-1D70F"></use></g><g data-mml-node="mo" transform="translate(20018.4, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(21018.6, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mo" transform="translate(280.1, 227)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mi" transform="translate(889, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g><g data-mml-node="mo" transform="translate(22765.3, 0)"><use xlink:href="#MJX-TEX-N-22C5"></use></g><g data-mml-node="msup" transform="translate(23265.5, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(234.8, 224)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mo" transform="translate(764, 765.1) scale(0.707)"><use xlink:href="#MJX-TEX-N-2032"></use></g></g><g data-mml-node="mo" transform="translate(24274, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(24663, 0)"><use xlink:href="#MJX-TEX-I-1D461"></use></g><g data-mml-node="mo" transform="translate(25024, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover><mi>C</mi><mo stretchy="false">→</mo></mover></mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mi>C</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><msub><mi>C</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><msub><mi>C</mi><mrow><mi>ϕ</mi></mrow></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>=</mo><msub><mrow><mover><mi>K</mi><mo stretchy="false">→</mo></mover></mrow><mi>P</mi></msub><mo>⋅</mo><mrow><mover><mi>E</mi><mo stretchy="false">→</mo></mover></mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mrow><mover><mi>K</mi><mo stretchy="false">→</mo></mover></mrow><mi>I</mi></msub><mo>⋅</mo><msubsup><mo data-mjx-texclass="OP">∫</mo><mn>0</mn><mi>t</mi></msubsup><mrow><mover><mi>E</mi><mo stretchy="false">→</mo></mover></mrow><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo><mi>d</mi><mi>τ</mi><mo>+</mo><msub><mrow><mover><mi>K</mi><mo stretchy="false">→</mo></mover></mrow><mi>D</mi></msub><mo>⋅</mo><msup><mrow><mover><mi>E</mi><mo stretchy="false">→</mo></mover></mrow><mo>′</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="32" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="36.81ex" height="9.3ex" role="img" focusable="false" viewBox="0 -2305.3 16269.9 4110.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -4.084ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D438"></use></g><g data-mml-node="mo" transform="translate(234.8, 224)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="mo" transform="translate(1041.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(2097.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 996)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1006)"></use><svg width="667" height="402" y="49" x="0" viewBox="0 100.5 667 402"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.002)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1400)"><g data-mml-node="mtd" transform="translate(24, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D465"></use></g><g data-mml-node="mi" transform="translate(572, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D447"></use></g></g><g data-mml-node="mo" transform="translate(1342, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(2342.2, 0)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g></g><g data-mml-node="mtr"><g data-mml-node="mtd" transform="translate(106, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D466"></use></g><g data-mml-node="mi" transform="translate(490, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D447"></use></g></g><g data-mml-node="mo" transform="translate(1260, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(2260.2, 0)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1400)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mi" transform="translate(596, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D447"></use></g></g><g data-mml-node="mo" transform="translate(1366, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(2366.2, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g><g data-mml-node="mo" transform="translate(3629.2, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 996)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1006)"></use><svg width="667" height="402" y="49" x="0" viewBox="0 100.5 667 402"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.002)"></use></svg></g></g><g data-mml-node="mo" transform="translate(6393.8, 0)"><use xlink:href="#MJX-TEX-N-2C"></use></g><g data-mml-node="mstyle" transform="translate(6838.5, 0)"><g data-mml-node="mspace"></g></g><g data-mml-node="msub" transform="translate(7060.7, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mo" transform="translate(280.1, 227)"><use xlink:href="#MJX-TEX-N-20D7"></use></g></g></g><g data-mml-node="TeXAtom" transform="translate(889, -176.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(751, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(1029, 0)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1533, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(1811, 0)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g></g><g data-mml-node="mo" transform="translate(10143.5, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(11199.3, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1151.3)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1161.3)"></use><svg width="667" height="712.5" y="-106.3" x="0" viewBox="0 178.1 667 712.5"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.775)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1555.3)"><g data-mml-node="mtd" transform="translate(8.5, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="TeXAtom" transform="translate(849, -176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(389, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1140, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(1418, 0)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1922, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(2200, 0)"><use xlink:href="#MJX-TEX-I-1D437"></use></g><g data-mml-node="mo" transform="translate(3028, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(3417, 0)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g></g></g></g><g data-mml-node="mtr" transform="translate(0, 51.8)"><g data-mml-node="mtd" transform="translate(37.5, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="TeXAtom" transform="translate(849, -176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(389, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1140, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(1418, 0)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1922, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(2200, 0)"><use xlink:href="#MJX-TEX-I-1D437"></use></g><g data-mml-node="mo" transform="translate(3028, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(3417, 0)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g></g></g><g data-mml-node="mtr" transform="translate(0, -1451.8)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="TeXAtom" transform="translate(849, -176.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(389, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1140, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(1418, 0)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1922, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(2200, 0)"><use xlink:href="#MJX-TEX-I-1D437"></use></g><g data-mml-node="mo" transform="translate(3028, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(3417, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g></g></g><g data-mml-node="mo" transform="translate(4403.6, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1151.3)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1161.3)"></use><svg width="667" height="712.5" y="-106.3" x="0" viewBox="0 178.1 667 712.5"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.775)"></use></svg></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover><mi>E</mi><mo stretchy="false">→</mo></mover></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mi>x</mi><mi>T</mi></msub><mo>−</mo><mi>x</mi></mtd></mtr><mtr><mtd><msub><mi>y</mi><mi>T</mi></msub><mo>−</mo><mi>y</mi></mtd></mtr><mtr><mtd><msub><mi>ϕ</mi><mi>T</mi></msub><mo>−</mo><mi>ϕ</mi></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>,</mo><mstyle scriptlevel="0"><mspace width="mediummathspace"></mspace></mstyle><msub><mrow><mover><mi>K</mi><mo stretchy="false">→</mo></mover></mrow><mrow><mi>P</mi><mrow><mo stretchy="false">|</mo></mrow><mi>I</mi><mrow><mo stretchy="false">|</mo></mrow><mi>D</mi></mrow></msub><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mi>K</mi><mrow><mo stretchy="false">(</mo><mi>P</mi><mrow><mo stretchy="false">|</mo></mrow><mi>I</mi><mrow><mo stretchy="false">|</mo></mrow><mi>D</mi><mo stretchy="false">)</mo><mi>x</mi></mrow></msub></mtd></mtr><mtr><mtd><msub><mi>K</mi><mrow><mo stretchy="false">(</mo><mi>P</mi><mrow><mo stretchy="false">|</mo></mrow><mi>I</mi><mrow><mo stretchy="false">|</mo></mrow><mi>D</mi><mo stretchy="false">)</mo><mi>y</mi></mrow></msub></mtd></mtr><mtr><mtd><msub><mi>K</mi><mrow><mo stretchy="false">(</mo><mi>P</mi><mrow><mo stretchy="false">|</mo></mrow><mi>I</mi><mrow><mo stretchy="false">|</mo></mrow><mi>D</mi><mo stretchy="false">)</mo><mi>ϕ</mi></mrow></msub></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></mjx-assistive-mml></mjx-container></p>
                                    <h3>Plans</h3>
                                        <p>On my asynchronous days, I will be working to finish documenting and commenting the code for all of the API's new features (<code class="inline-snippet">DcMotorX</code>, <code class="inline-snippet">Drivetrain</code>, <code class="inline-snippet">ControlledDrivetrain</code>, and <code class="inline-snippet">Odometry</code>). Once the mechanical team adds odometers to the robot, I will start testing odometry and position control.</p>
                                <h1 class="entry-sprint" id="cardOdometry-Math/Code-sprint4">Sprint 4</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>02/03/2021</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>This week, I worked on testing odometry since the mechanical team has now added pods to the robot. </p>
                                        <p>The first step for testing this system was making sure that the coordinates were changing in the right direction relative to the field (if the robot faces straight ahead, moving forward should increase y, moving right should increase x, etc.) using <code class="inline-snippet">OdometryTest</code>. Initially, the x and y coordinates seemed to be inverted and switched, which was due to differing measurements of heading between my derivation of the odometry equations and the actual odometry system. In my derivation, I measured heading relative to the horizontal. However, since the robot usually starts facing forward, an initial heading of 0 should actually correspond to 90 degrees relative to the horizontal. Accounting for the 90 degree offset, my equations became:</p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="33" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="45.485ex" height="10.048ex" role="img" focusable="false" viewBox="0 -2470.7 20104.5 4441.4" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -4.459ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mrow" transform="translate(520, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 996)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1006)"></use><svg width="667" height="402" y="49" x="0" viewBox="0 100.5 667 402"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.002)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1400)"><g data-mml-node="mtd" transform="translate(12, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g></g><g data-mml-node="mtr"><g data-mml-node="mtd" transform="translate(53, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1400)"><g data-mml-node="mtd"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g><g data-mml-node="mo" transform="translate(1263, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 996)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1006)"></use><svg width="667" height="402" y="49" x="0" viewBox="0 100.5 667 402"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.002)"></use></svg></g></g><g data-mml-node="mo" transform="translate(2727.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3783.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1316.7)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1326.7)"></use><svg width="667" height="1043.4" y="-271.7" x="0" viewBox="0 260.8 667 1043.4"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 2.6)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1495)"><g data-mml-node="mtd" transform="translate(389, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D446"></use></g><g data-mml-node="mi" transform="translate(1331.7, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(2559.7, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(2559.7, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(2948.7, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(3766.9, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(4767.1, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(5996.2, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(6607.5, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(7607.7, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(8127.7, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mi" transform="translate(9045.4, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(10383.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(10383.4, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(10772.4, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(11590.6, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(12590.8, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(13819.9, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -225.7)"><g data-mml-node="mtd"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(778, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(1298, 0)"><use xlink:href="#MJX-TEX-I-1D446"></use></g><g data-mml-node="mi" transform="translate(2109.7, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(3447.7, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(3447.7, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(3836.7, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(4654.9, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(5655.1, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(6884.2, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(7495.5, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(8495.7, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(9015.7, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mi" transform="translate(9933.4, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(11161.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(11161.4, 0)"><use xlink:href="#MJX-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(11550.4, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(12368.6, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="mfrac" transform="translate(13368.8, 0)"><g data-mml-node="mrow" transform="translate(220, 485) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><g data-mml-node="mn" transform="translate(437.8, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="989.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(14597.9, 0)"><use xlink:href="#MJX-TEX-N-29"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1720.7)"><g data-mml-node="mtd" transform="translate(6935.5, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g><g data-mml-node="mo" transform="translate(15653.9, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1316.7)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1326.7)"></use><svg width="667" height="1043.4" y="-271.7" x="0" viewBox="0 260.8 667 1043.4"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 2.6)"></use></svg></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>ϕ</mi></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mi>d</mi><mi>S</mi><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi>d</mi><mi>P</mi><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo>−</mo><mi>d</mi><mi>S</mi><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi>d</mi><mi>P</mi><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>+</mo><mfrac><mrow><mi>d</mi><mi>ϕ</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mi>d</mi><mi>ϕ</mi></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></mjx-assistive-mml></mjx-container></p>
                                        <p>After I fixed this, I had to determine the <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="34" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="8.325ex" height="3.11ex" role="img" focusable="false" viewBox="0 -884.7 3679.6 1374.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -1.108ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g><g data-mml-node="mo" transform="translate(1279.5, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(2335.3, 0)"><g data-mml-node="mrow" transform="translate(220, 394) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D435"></use></g></g><g data-mml-node="mrow" transform="translate(277.6, -345) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><rect width="1104.4" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub><mo>=</mo><mfrac><mrow><mi>d</mi><mi>B</mi></mrow><mrow><mi>d</mi><mi>ϕ</mi></mrow></mfrac></math></mjx-assistive-mml></mjx-container> calibration parameter, which accounts for motion in the back wheel due to rotation and not perpendicular motion. I modified <code class="inline-snippet">OdometryTest</code> to record displacement in the back encoder over several driver-controlled revolutions. Recording can now be started/stopped with the x button, and the running average of displacement per full rotation can be displayed by pressing b. After performing 5 rotations and taking the average, I found this value to be approximately 41.7cm. I could then find <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="35" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> by dividing it by <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="36" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.421ex" height="1.532ex" role="img" focusable="false" viewBox="0 -666 1070 677" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mn"><use xlink:href="#MJX-TEX-N-32"></use></g><g data-mml-node="mi" transform="translate(500, 0)"><use xlink:href="#MJX-TEX-I-1D70B"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mi>π</mi></math></mjx-assistive-mml></mjx-container>, giving me a value of about 6.64cm/radian. </p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="37" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> happens to be very close to the back encoder wheel's distance from the center of the robot (6.5cm), and Cailean pointed out that this had a mathematical explanation: The length of the arc traveled by a wheel, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="38" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.894ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 1279 704" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.023ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D435"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>B</mi></math></mjx-assistive-mml></mjx-container>, rotating at radius <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="39" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D45F"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container> from the robot's center is <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="40" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.545ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 1567 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D45F"></use></g><g data-mml-node="mi" transform="translate(451, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(971, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mi>d</mi><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container>. Therefore, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="41" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="12.362ex" height="3.11ex" role="img" focusable="false" viewBox="0 -884.7 5464.2 1374.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -1.108ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g><g data-mml-node="mo" transform="translate(1279.5, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(2335.3, 0)"><g data-mml-node="mrow" transform="translate(220, 394) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D435"></use></g></g><g data-mml-node="mrow" transform="translate(277.6, -345) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><rect width="1104.4" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(3957.4, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(5013.2, 0)"><use xlink:href="#MJX-TEX-I-1D45F"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub><mo>=</mo><mfrac><mrow><mi>d</mi><mi>B</mi></mrow><mrow><mi>d</mi><mi>ϕ</mi></mrow></mfrac><mo>=</mo><mi>r</mi></math></mjx-assistive-mml></mjx-container>. The calibrated <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="42" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> differs slightly, likely due to the back wheel's imperfect contact with the ground when rotating, but <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="43" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D45F"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container> provides a very good estimate.</p>
                                        <p>After I found this value, I drove the robot around the field while monitoring the position reported by the odometry system. It was mostly accurate, but I noticed that x and y values varied when I rotated the robot in place. The difference from their initial values typically hit a maximum around 180 degrees and basically disappeared by 360. </p>
                                        <p>Since the differences seemed to oscillate over multiple revolutions, I suspected that <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="44" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> might vary sinusoidally due to some unforseen physical effects. To test this theory, I measured the back wheel's displacement against heading and exported the data to a CSV. When I graphed this quantity, along with <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="45" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="8.826ex" height="3.148ex" role="img" focusable="false" viewBox="0 -900.3 3901 1391.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -1.111ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g><g data-mml-node="mo" transform="translate(1279.5, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(2335.3, 0)"><g data-mml-node="mrow" transform="translate(220, 394) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-N-394"></use></g><g data-mml-node="mi" transform="translate(833, 0)"><use xlink:href="#MJX-TEX-I-1D435"></use></g></g><g data-mml-node="mrow" transform="translate(277.6, -346.3) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-N-394"></use></g><g data-mml-node="mi" transform="translate(833, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g><rect width="1325.7" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><mi>B</mi></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>ϕ</mi></mrow></mfrac></math></mjx-assistive-mml></mjx-container>, in Google Sheets, however, I saw that <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="46" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> was constant.</p>
                                        <img src="static/saved_files/Back_wheel_displacement_(cm)_and_(Back_wheel)_(Heading).png" height="371" width="528">
                                        <p>Since this seemed to prove that the back wheel wasn't causing any problems, I started looking for other possible issues. Cailean suggested that it might be due to encoder readings being absolute on one of the side wheels, which would cause measurements to vary at different parts of each wheel's rotation. To determine whether this was the case, I drove the robot in a straight line, recording the movement reported by the left back wheel's encoder as well as the odometry system's <i>y</i> position (which depends only on the side wheel displacements). When graphed against each other, the two measurements of positon have a linear relationship, indicating that the side encoders are in sync with the robot's actual motion.</p>
                                        <img src="static/saved_files/mLB_movement_(cm)_vs_y_(cm).png" height="371" width="528">
                                        <p>With all three encoders working properly, I took a closer look at my odometry code and realized that I was using a negative value for <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="47" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container>, making <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="48" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="16.343ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 7223.7 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(520, 0)"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mo" transform="translate(1548.8, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(2604.6, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(3124.6, 0)"><use xlink:href="#MJX-TEX-I-1D435"></use></g><g data-mml-node="mo" transform="translate(4105.8, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(5106, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g><g data-mml-node="mi" transform="translate(6107.7, 0)"><use xlink:href="#MJX-TEX-I-1D451"></use></g><g data-mml-node="mi" transform="translate(6627.7, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mi>P</mi><mo>=</mo><mi>d</mi><mi>B</mi><mo>+</mo><msub><mi>T</mi><mi>d</mi></msub><mi>d</mi><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container>. When I changed the value to match my original equations, the <i>x</i> and <i>y</i> coordinates stopped varying with changes in heading.</p>
                                        <p>When I ran <code class="inline-snippet">OdometryTest</code> after these revisions, positoning error was neglible (0-3cm for <i>x</i>/<i>y</i>, 0-2 degrees for heading) if the robot was driven around the field and back to its starting point.</p>
                                    <h3>Takeaways</h3>
                                        <p>The debugging process I used this week was definitely overkill for what turned out to be a minor code error, but being able to save and analyze data from the robot is very useful for diagnosing more complex issues. I had trouble working with CSVs at first due to permission issues, but after reading an Android documentation page, I found that custom files can be created/saved/accessed as follows:</p>
                                        <pre><code class="java hljs">File file = AppUtil.getInstance().getSettingsFile(<span class="hljs-string">"myData.csv"</span>);</code></pre>
                                        <p>Once my CSVs were saved and populated with data, I plugged the robot controller phone into my computer and downloaded them.</p>
                                    <h3>Plans</h3>
                                        <p>Now that odometry is working with minimal error, I can move on to testing the position control system.</p>
                            <hr>
                            <h2>02/17/2021</h2>
                            <div class="columns">
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>For the past few days, I have been testing and updating the robot's PID controller. </p>
                                        <p>When I first ran <code class="inline-snippet">PositionControlTest</code> with a working odometry system, the robot seemed to jerk around in an almost-random manner. I initially thought that this was due to complex interactions between the corrections for each coordinate, so I deactivated the controller's perpendicular and angular movements and made the testing setpoint <i>x=0, y=3 tiles [~180cm], heading=0</i>. </p>
                                        <p>However, this did not solve my problem, and I realized that the robot wasn't going in a straight line when I called <code class="inline-snippet">ControlledDrivetrain::drive(someLinearSpeed, 0, 0)</code>. This turned out to be a result of each wheel moving in an apparently random direction, a problem that was solved by calling <code class="inline-snippet">ControlledDrivetrain::reverse</code> on all motors before activating positon control (our drivetrain configuration will move in reverse if every wheel is set to the forward mode).</p>
                                        <p>After fixing the driving code, I modified the position control equations to account for the heading offset I mentioned in the last entry. My end result was as follows:</p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="49" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="28.418ex" height="9.104ex" role="img" focusable="false" viewBox="0 -2262 12560.9 4024" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -3.986ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1108)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1118)"></use><svg width="667" height="626" y="-63" x="0" viewBox="0 156.5 667 626"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.56)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1512)"><g data-mml-node="mtd" transform="translate(37.8, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi" transform="translate(15.5, 0)"><use xlink:href="#MJX-TEX-I-1D460"></use></g><g data-mml-node="mo" transform="translate(55.6, -47)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g><g data-mml-node="mtr" transform="translate(0, 112)"><g data-mml-node="mtd" transform="translate(23.2, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(84.8, -47)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g><g data-mml-node="mtr" transform="translate(0, -1512)"><g data-mml-node="mtd"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(131.3, 205)"><use xlink:href="#MJX-TEX-N-2D9"></use></g></g></g></g></g></g><g data-mml-node="mo" transform="translate(1298.3, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1108)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1118)"></use><svg width="667" height="626" y="-63" x="0" viewBox="0 156.5 667 626"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.56)"></use></svg></g></g><g data-mml-node="mo" transform="translate(2243.1, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3298.9, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-TEX-S4-23A1" transform="translate(0, 1063.4)"></use><use xlink:href="#MJX-TEX-S4-23A3" transform="translate(0, -1073.4)"></use><svg width="667" height="536.9" y="-18.4" x="0" viewBox="0 134.2 667 536.9"><use xlink:href="#MJX-TEX-S4-23A2" transform="scale(1, 1.338)"></use></svg></g><g data-mml-node="mtable" transform="translate(667, 0)"><g data-mml-node="mtr" transform="translate(0, 1467.4)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g><g data-mml-node="mi" transform="translate(1278.1, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(2616.1, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(2782.8, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(3601, 0)"><use xlink:href="#MJX-TEX-N-2212"></use></g><g data-mml-node="msub" transform="translate(4601.3, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g><g data-mml-node="mi" transform="translate(5937.4, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(7165.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(7332.1, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, 22.5)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D465"></use></g></g><g data-mml-node="mi" transform="translate(1336.1, 0)"><use xlink:href="#MJX-TEX-N-63"></use><use xlink:href="#MJX-TEX-N-6F" transform="translate(444, 0)"></use><use xlink:href="#MJX-TEX-N-73" transform="translate(944, 0)"></use></g><g data-mml-node="mo" transform="translate(2674.1, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(2840.8, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(3659, 0)"><use xlink:href="#MJX-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(4659.2, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g><g data-mml-node="mi" transform="translate(5937.4, 0)"><use xlink:href="#MJX-TEX-N-73"></use><use xlink:href="#MJX-TEX-N-69" transform="translate(394, 0)"></use><use xlink:href="#MJX-TEX-N-6E" transform="translate(672, 0)"></use></g><g data-mml-node="mo" transform="translate(7165.4, 0)"><use xlink:href="#MJX-TEX-N-2061"></use></g><g data-mml-node="mi" transform="translate(7332.1, 0)"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -1422.5)"><g data-mml-node="mtd" transform="translate(3370.8, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D436"></use></g><g data-mml-node="TeXAtom" transform="translate(715, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></g></g></g><g data-mml-node="mo" transform="translate(8595.1, 0)"><use xlink:href="#MJX-TEX-S4-23A4" transform="translate(0, 1063.4)"></use><use xlink:href="#MJX-TEX-S4-23A6" transform="translate(0, -1073.4)"></use><svg width="667" height="536.9" y="-18.4" x="0" viewBox="0 134.2 667 536.9"><use xlink:href="#MJX-TEX-S4-23A5" transform="scale(1, 1.338)"></use></svg></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><mrow><mover><mi>s</mi><mo>˙</mo></mover></mrow></mtd></mtr><mtr><mtd><mrow><mover><mi>p</mi><mo>˙</mo></mover></mrow></mtd></mtr><mtr><mtd><mrow><mover><mi>ϕ</mi><mo>˙</mo></mover></mrow></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow><mo>=</mo><mrow data-mjx-texclass="INNER"><mo data-mjx-texclass="OPEN">[</mo><mtable columnspacing="1em" rowspacing="4pt"><mtr><mtd><msub><mi>C</mi><mi>y</mi></msub><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi><mo>−</mo><msub><mi>C</mi><mi>x</mi></msub><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi></mtd></mtr><mtr><mtd><msub><mi>C</mi><mi>x</mi></msub><mi>cos</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi><mo>+</mo><msub><mi>C</mi><mi>y</mi></msub><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>ϕ</mi></mtd></mtr><mtr><mtd><msub><mi>C</mi><mrow><mi>ϕ</mi></mrow></msub></mtd></mtr></mtable><mo data-mjx-texclass="CLOSE">]</mo></mrow></math></mjx-assistive-mml></mjx-container></p>
                                        <p>Using the original setpoint and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="50" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="11.059ex" height="2.213ex" role="img" focusable="false" viewBox="0 -683 4888.1 978" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.667ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="TeXAtom" transform="translate(849, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mi" transform="translate(751, 0)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g><g data-mml-node="mo" transform="translate(2054.3, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(3110.1, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-31" transform="translate(1278, 0)"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mrow><mi>P</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>0.01</mn></math></mjx-assistive-mml></mjx-container>, I tested <code class="inline-snippet">PositionControlTest</code> again. The results were what I expected from a P controller, with a fairly slow settling time but reasonable accuracy. When I increased <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="51" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.019ex" height="2.213ex" role="img" focusable="false" viewBox="0 -683 1776.5 978" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.667ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="TeXAtom" transform="translate(849, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mi" transform="translate(751, 0)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mrow><mi>P</mi><mi>y</mi></mrow></msub></math></mjx-assistive-mml></mjx-container> to 0.1, the settling time decreased but there was considerable overshoot. I then set low <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="52" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container> values for <i>x</i> and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="53" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container> and changed the setpoint to y=1.5 tiles, x=1.5 tiles, heading=90 degrees/<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="54" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.907ex" height="2.361ex" role="img" focusable="false" viewBox="0 -698.8 843.1 1043.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.781ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(220, 394) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D70B"></use></g><g data-mml-node="mn" transform="translate(244.7, -345) scale(0.707)"><use xlink:href="#MJX-TEX-N-32"></use></g><rect width="603.1" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mi>π</mi><mn>2</mn></mfrac></math></mjx-assistive-mml></mjx-container>,  which resulted in steady-state error for <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="55" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 596 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi></math></mjx-assistive-mml></mjx-container> but otherwise accurate positioning.</p>
                                        <p> After getting decent proportional control, I fiddled with <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="56" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.84ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1255.4 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>I</mi></msub></math></mjx-assistive-mml></mjx-container>s and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="57" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.359ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1484.5 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>D</mi></msub></math></mjx-assistive-mml></mjx-container>s for a while but had trouble reducing overshoot and "jumpiness". Instead of continuing to make arbritrary adjustments, I decided to look for specific tuning techniques. </p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1evvARCXe4t6ZYZKbRvsj1HOyE4cWsQ1J/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_b72d7a69-cb36-459f-b846-63aa31b226ab.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">InitialPIDTest.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 1 week ago</span>
                    </p>
                </a>
            </div>
                                        <p>I came across Christopher Lum's video on the Ziegler-Nichols Algorithm, a simple procedure that could be used without a background in advanced math or differential equation models for the system.</p>
                                        <iframe height="300" width="500" src="static/saved_files/n829SwSUZ_c.html"></iframe>
                                        <p>I took some notes on this lecture and used the information I gathered to try using the method for the robot's position control. </p>
                                        <img src="static/saved_files/ZieglerNicholsNotes.jpg" height="auto" width="528">
                                        <p>According to Lum's video, I had to:</p>
                                        <li class="list-elem">Start with <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="58" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container> at a low value and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="59" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="13.364ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 5907 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g><g data-mml-node="mo" transform="translate(1533.2, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="msub" transform="translate(2588.9, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g><g data-mml-node="mo" transform="translate(4351.2, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(5407, 0)"><use xlink:href="#MJX-TEX-N-30"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>I</mi></msub><mo>=</mo><msub><mi>K</mi><mi>D</mi></msub><mo>=</mo><mn>0</mn></math></mjx-assistive-mml></mjx-container></li>
                                        <li class="list-elem">Increase <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="60" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container> until the system reaches neutral stability (error oscillates with a stable amplitude). This is the ultimate gain <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="61" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.261ex" height="1.92ex" role="img" focusable="false" viewBox="0 -683 1441.4 848.6" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.375ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D448"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>U</mi></msub></math></mjx-assistive-mml></mjx-container>. The period of the error function is the ultimate period <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="62" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.661ex" height="1.906ex" role="img" focusable="false" viewBox="0 -677 1176.4 842.6" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.375ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D448"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>U</mi></msub></math></mjx-assistive-mml></mjx-container></li>
                                        <li class="list-elem">Use a table to look up equations for <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="63" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container>, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="64" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.889ex" role="img" focusable="false" viewBox="0 -677 878 834.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.357ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D456"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>i</mi></msub></math></mjx-assistive-mml></mjx-container>, and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="65" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.266ex" height="1.887ex" role="img" focusable="false" viewBox="0 -677 1001.7 834.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container>, for either the "classic PID" or "No overshoot" system.</li>
                                        <li class="list-elem">Use <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="66" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="9.141ex" height="3.135ex" role="img" focusable="false" viewBox="0 -929 4040.1 1385.6" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -1.033ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g><g data-mml-node="mo" transform="translate(1533.2, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(2588.9, 0)"><g data-mml-node="msub" transform="translate(220, 446.1) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g><g data-mml-node="msub" transform="translate(415.2, -345) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D456"></use></g></g><rect width="1211.2" height="60" x="120" y="220"></rect></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>I</mi></msub><mo>=</mo><mfrac><msub><mi>K</mi><mi>P</mi></msub><msub><mi>T</mi><mi>i</mi></msub></mfrac></math></mjx-assistive-mml></mjx-container> and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="67" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="11.877ex" height="1.901ex" role="img" focusable="false" viewBox="0 -683 5249.8 840.1" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.355ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g><g data-mml-node="mo" transform="translate(1762.3, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="msub" transform="translate(2818, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g><g data-mml-node="msub" transform="translate(4248.1, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D451"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>D</mi></msub><mo>=</mo><msub><mi>K</mi><mi>P</mi></msub><msub><mi>T</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> to find the remaining coefficients</li>
                                        <p>By making a setpoint that only changed the <i>y</i>-coordinate and using <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="68" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.019ex" height="2.213ex" role="img" focusable="false" viewBox="0 -683 1776.5 978" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.667ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="TeXAtom" transform="translate(849, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D443"></use></g><g data-mml-node="mi" transform="translate(751, 0)"><use xlink:href="#MJX-TEX-I-1D466"></use></g></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mrow><mi>P</mi><mi>y</mi></mrow></msub></math></mjx-assistive-mml></mjx-container> as <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="69" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container>, I worked towards neutral stability for <i>y</i>-error by slowling increasing <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="70" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container>. Once I found <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="71" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.261ex" height="1.92ex" role="img" focusable="false" viewBox="0 -683 1441.4 848.6" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.375ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D448"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>U</mi></msub></math></mjx-assistive-mml></mjx-container>, I filmed the robot's motion and determined <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="72" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.661ex" height="1.906ex" role="img" focusable="false" viewBox="0 -677 1176.4 842.6" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.375ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D447"></use></g><g data-mml-node="mi" transform="translate(584, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D448"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>U</mi></msub></math></mjx-assistive-mml></mjx-container> from the frequency of its oscillations.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1eyhhcjuxJxvXk60l9TP4_G7lFQQYxDP7/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_fc2717f7-9651-4ab7-bce0-adb3a04da927.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">YNeutralStability.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 1 week ago</span>
                    </p>
                </a>
            </div>
                                        <p>I then tried the same for only the <i>x</i>-coordinate, but the robot's weight imbalance caused changes in heading that made finding an accurate <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="73" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.261ex" height="1.92ex" role="img" focusable="false" viewBox="0 -683 1441.4 848.6" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.375ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D448"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>U</mi></msub></math></mjx-assistive-mml></mjx-container> impossible. In this case, it seemed that changes in <i>x</i> could not be separated from changes in other coordinates, meaning that I would have to find neutral stability for all of them at once. I changed my setpoint to y=1 tile, x=1 tile, heading = 180 degrees/<mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="74" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.29ex" height="1ex" role="img" focusable="false" viewBox="0 -431 570 442" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D70B"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>π</mi></math></mjx-assistive-mml></mjx-container> and tried to find three <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="75" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.261ex" height="1.92ex" role="img" focusable="false" viewBox="0 -683 1441.4 848.6" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.375ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D448"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>U</mi></msub></math></mjx-assistive-mml></mjx-container>s. Unfortunately, I could not get simulatneous oscillations in <i>x</i> and <i>y</i>, even when I kept heading constant.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1exUCkXEjxosSmEipJmU83HtE-cNQTZz8/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_07594b61-3dfd-49ee-9067-d5477de92c82.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">AllCoordinateNeutralStability.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 1 week ago</span>
                    </p>
                </a>
            </div>
                                        <p>I realized that, while I would have to go back to tuning each coordinate separately, I could at least control heading by fully tuning its PID controller prior to doing the same for <i>x</i>. I ended up finding neutral stability and recording the ultimate parameters, but I have yet to test the values of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="76" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container>, <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="77" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.84ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1255.4 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>I</mi></msub></math></mjx-assistive-mml></mjx-container>, and <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="78" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.359ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1484.5 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>D</mi></msub></math></mjx-assistive-mml></mjx-container> I calculated from these (using the "No overshoot" equations).</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1f-GXFDgSL_gRKZGZ5w63FgRLO3zpAle4/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_9c5e1175-503a-4fd9-a215-6588276ca3ec.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/mp4">PhiNeutralStability.mp4</span>
                        <span class="bookmark-edited">Last edited by Isaac Krementsov 1 week ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Plans</h3>
                                        <p>Next week, I will try to finish tuning the position controller and implement it in an autonomous OpMode.</p>
                            <hr>
                            <h2>03/01/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                                    →
                                    Done
                            </div>
                                    <h3>Progress</h3>
                                        <p>On Monday, I input the tuning coefficients I calculated for heading and continued using Ziegler-Nichols to tune the x and y controllers. However, the coefficients for the heading controller seemed far too high, even when I used the "No overshoot" formulas, and I couldn't obtain stable oscillations in any direction. While I was trying to figure out where the procedure went wrong, Wolfie suggested a different tuning method that he found on WPILib's FIRST documentation site.</p>
                                        <div style="display: flex">
                <a class="web-bookmark" href="https://docs.wpilib.org/en/stable/docs/software/advanced-controls/introduction/tuning-pid-controller.html" style="background-image: url(static/img/bookmark/bg_5a6d619f-9b9e-490b-ba25-3e78d707ddd2.jpg)">
                    <p>
                        <span class="bookmark-title">Tuning a PID Controller</span>
                        <span class="bookmark-description">These steps apply to position PID controllers. Velocity PID contr..</span>
                    </p>
                </a>
            </div>
                                        <p>For this method, the steps were essentially to:</p>
                                        <li class="list-elem">Increase <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="79" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container> up to the point where (small) oscillations start</li>
                                        <li class="list-elem">Increase <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="80" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.359ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1484.5 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>D</mi></msub></math></mjx-assistive-mml></mjx-container> until the oscillations are entirely eliminated</li>
                                        <li class="list-elem">Increase <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="81" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.84ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1255.4 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>I</mi></msub></math></mjx-assistive-mml></mjx-container> to match the desired overshoot and response time</li>
                                        <p>This method seemed to allow for easier tuning, since, without a graphing utility, it's hard to accurately estimate when neutral stability is reached and the period of oscillation. I made some modifications to my calibration OpMode (<code class="inline-snippet">PositionControlCalibration</code>, a slightly modified version of <code class="inline-snippet">PositionControlTest</code>) and started increasing <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="82" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container>. Initially, I interpreted the first step to WPI's procedure as increasing <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="83" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container> to the point where stable oscillations start, so I brought it to a much higher level than I should have. While I could mostly damp them with a high value of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="84" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.359ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1484.5 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>D</mi></msub></math></mjx-assistive-mml></mjx-container>, there was quite a bit of jittering and unstable oscillations could start in response to miniscule disturbances.</p>
                                        <p>With the existing autonomous calibration OpMode, I had to reinstall the robot controller app every time I wanted to change coefficients, so I didn't have time to root out the jittering issue on Monday. Before I came in today, I wrote a new TeleOp mode, <code class="inline-snippet">PIDCalibration</code>, to change coefficients, switch between coarse/fine parameter tuning, and repeatedly test in real-time.</p>
                                        <pre><code class="java hljs"><span class="hljs-meta">@TeleOp</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PIDCalibration</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">OpMode</span> </span>{
    <span class="hljs-comment">// Encoder wheel information</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> circumference = <span class="hljs-number">15.71</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> ticksPerRev = <span class="hljs-number">8192</span>;
    <span class="hljs-comment">// Robot width and back encoder wheel ticks per degree</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> width = <span class="hljs-number">40.8</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> backDistancePerDegree = <span class="hljs-number">41.577</span>/(<span class="hljs-number">2</span>*Math.PI);
    <span class="hljs-comment">// Size of a tile on the field (in cm)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> TILE_SIZE = <span class="hljs-number">59.69</span>;
    <span class="hljs-comment">// Calibration parameters</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> Kp = <span class="hljs-number">3.01</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> Ki = <span class="hljs-number">2e-17</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> Kd = <span class="hljs-number">0.304</span>;
    <span class="hljs-comment">// For editing coeffients in the OpMode</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> multiplier = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> editingIdx = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> String[] editingOptions = <span class="hljs-keyword">new</span> String[]{<span class="hljs-string">"Kp"</span>, <span class="hljs-string">"Kd"</span>, <span class="hljs-string">"Ki"</span>};
    <span class="hljs-comment">// Coordinate to calibrate</span>
    <span class="hljs-keyword">private</span> PIDCalibration.CalibrationMode mode = PIDCalibration.CalibrationMode.PHI;
    <span class="hljs-comment">// Test setpoint</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> setpoint = <span class="hljs-number">2</span>*Math.PI;
    <span class="hljs-comment">// Controller for tuning</span>
    <span class="hljs-keyword">private</span> ControlledDrivetrain drivetrain;
    <span class="hljs-comment">// Saved button states</span>
    <span class="hljs-keyword">private</span> Robot.ButtonState lastButtons = <span class="hljs-keyword">new</span> Robot.ButtonState();
    <span class="hljs-keyword">private</span> Robot.DpadState lastDpads = <span class="hljs-keyword">new</span> Robot.DpadState();
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment">// Get all of the drivetrain motors</span>
        DcMotorX mRF = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mRF"</span>)),
                mLF = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mLF"</span>)),
                mRB = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mRB"</span>)),
                mLB = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mLB"</span>));
        <span class="hljs-comment">// Get the odometry wheels</span>
        DcMotorX wheelR = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mRB"</span>), ticksPerRev, circumference),
                wheelL = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mLF"</span>), ticksPerRev, circumference),
                wheelB = <span class="hljs-keyword">new</span> DcMotorX(hardwareMap.dcMotor.get(<span class="hljs-string">"mRF"</span>), ticksPerRev, circumference);
        <span class="hljs-comment">// Create an odometry instance for the drivetrain</span>
        Odometry positionTracker = <span class="hljs-keyword">new</span> Odometry(wheelR, wheelL, wheelB, <span class="hljs-number">50</span>, backDistancePerDegree, width, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
        <span class="hljs-comment">// Instantiate the PID-controlled drivetrain</span>
        drivetrain = <span class="hljs-keyword">new</span> ControlledDrivetrain(mRF, mLF, mRB, mLB, positionTracker);
        <span class="hljs-comment">// Reverse the drivetrain (between left/right wheels are on backward)</span>
        drivetrain.reverse();
        <span class="hljs-comment">// Adding logging to drivetrain (only needed for development)</span>
        drivetrain.telemetry = telemetry;
        <span class="hljs-comment">// Start with the drivetrain off</span>
        drivetrain.setActive(<span class="hljs-keyword">false</span>);
        <span class="hljs-comment">// Run it on a separate thread</span>
        Thread drivetrainThread = <span class="hljs-keyword">new</span> Thread(drivetrain);
        drivetrainThread.start();
        <span class="hljs-comment">// Apply predefined settings</span>
        initializeCoefficients();
        <span class="hljs-comment">// Register setpoint with the ControlledDrivetrain</span>
        setPosition();
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment">// Get controller inputs</span>
        <span class="hljs-keyword">double</span> leftX = gamepad1.left_stick_x;
        <span class="hljs-keyword">double</span> rightX = gamepad1.right_stick_x;
        <span class="hljs-keyword">double</span> rightY = -gamepad1.right_stick_y; <span class="hljs-comment">// Reads negative from the controller</span>
        <span class="hljs-keyword">boolean</span> dpadUp = gamepad1.dpad_up;
        <span class="hljs-keyword">boolean</span> dpadDown = gamepad1.dpad_down;
        <span class="hljs-keyword">boolean</span> dpadRight = gamepad1.dpad_right;
        <span class="hljs-keyword">boolean</span> dpadLeft = gamepad1.dpad_left;
        <span class="hljs-keyword">boolean</span> a = gamepad1.a;
        <span class="hljs-keyword">boolean</span> b = gamepad1.b;
        <span class="hljs-keyword">boolean</span> x = gamepad1.x;
        <span class="hljs-keyword">boolean</span> aHit = a &amp;&amp; !lastButtons.a;
        <span class="hljs-keyword">boolean</span> bHit = b &amp;&amp; !lastButtons.b;
        <span class="hljs-keyword">boolean</span> xHit = x &amp;&amp; !lastButtons.x;
        <span class="hljs-keyword">boolean</span> dpadUpHit = dpadUp &amp;&amp; !lastDpads.dpad_up;
        <span class="hljs-keyword">boolean</span> dpadDownHit = dpadDown &amp;&amp; !lastDpads.dpad_down;
        <span class="hljs-keyword">boolean</span> dpadRightHit = dpadRight &amp;&amp; !lastDpads.dpad_right;
        <span class="hljs-keyword">boolean</span> dpadLeftHit = dpadLeft &amp;&amp; !lastDpads.dpad_left;
        <span class="hljs-comment">// Stop position control</span>
        <span class="hljs-keyword">if</span>(bHit){
            drivetrain.setActive(<span class="hljs-keyword">false</span>);
            drivetrain.stop();
        }
        <span class="hljs-keyword">if</span>(drivetrain.getActive()) {
            <span class="hljs-comment">// If a test is running, log tracking information</span>
            telemetry.addData(<span class="hljs-string">"Setpoint"</span>, setpoint);
            telemetry.addData(<span class="hljs-string">"Mode index"</span>, getModeIndex());
            telemetry.addData(<span class="hljs-string">"x"</span>, drivetrain.positionTracker.x);
            telemetry.addData(<span class="hljs-string">"y"</span>, drivetrain.positionTracker.y);
            telemetry.addData(<span class="hljs-string">"Heading"</span>, drivetrain.positionTracker.phi);
        }<span class="hljs-keyword">else</span>{
            <span class="hljs-comment">// Start/restart position control</span>
            <span class="hljs-keyword">if</span>(aHit){
                <span class="hljs-comment">// Reset odometry and stop the drivetrain</span>
                drivetrain.positionTracker.reset();
                drivetrain.stop();
                <span class="hljs-comment">// setPosition must be called repeatedly to clear the error integrals</span>
                setPosition();
                <span class="hljs-comment">// Turn the controller on to start testing</span>
                drivetrain.setActive(<span class="hljs-keyword">true</span>);
            }
            <span class="hljs-comment">// Select a coefficient to edit</span>
            <span class="hljs-keyword">if</span>(xHit){
                editingIdx = editingIdx &lt; editingOptions.length - <span class="hljs-number">1</span> ? editingIdx + <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
            }
            <span class="hljs-comment">// Increment selected coefficient</span>
            <span class="hljs-keyword">if</span>(dpadUpHit) editCoefficients(Math.pow(<span class="hljs-number">10</span>, multiplier));
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dpadDownHit) editCoefficients(-Math.pow(<span class="hljs-number">10</span>, multiplier));
            <span class="hljs-comment">// Multiply increments by 10^multiplier for fine/coarse tuning</span>
            <span class="hljs-keyword">if</span>(dpadRightHit) multiplier++;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dpadLeftHit) multiplier--;
            <span class="hljs-comment">// Allow for manual driving</span>
            <span class="hljs-keyword">if</span>(Math.abs(leftX) &gt; <span class="hljs-number">.1</span> || Math.abs(rightX) &gt; <span class="hljs-number">.1</span> || Math.abs(rightY) &gt; <span class="hljs-number">.1</span>){
                drivetrain.driveWithGamepad(<span class="hljs-number">0.5</span>, rightY, leftX, rightX);
            }<span class="hljs-keyword">else</span>{
                drivetrain.stop();
            }
            <span class="hljs-comment">// Log current coefficient values</span>
            telemetry.addData(<span class="hljs-string">"Currently editing"</span>, editingOptions[editingIdx]);
            telemetry.addData(<span class="hljs-string">"Increment size"</span>, Math.pow(<span class="hljs-number">10</span>, multiplier));
            telemetry.addData(<span class="hljs-string">"Kp"</span>, Kp);
            telemetry.addData(<span class="hljs-string">"Ki"</span>, Ki);
            telemetry.addData(<span class="hljs-string">"Kd"</span>, Kd);
        }
        <span class="hljs-comment">// Update past controller states</span>
        lastDpads.update(dpadUp, dpadDown, dpadRight, dpadLeft);
        lastButtons.update(a, b, x, <span class="hljs-keyword">false</span>);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stop</span><span class="hljs-params">()</span></span>{
        drivetrain.setActive(<span class="hljs-keyword">false</span>);
        drivetrain.stop();
        drivetrain.stopController();
    }
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initializeCoefficients</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">int</span> i = getModeIndex();
        drivetrain.Kp[i] = Kp;
        drivetrain.Kd[i] = Kd;
        drivetrain.Ki[i] = Ki;
    }
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">editCoefficients</span><span class="hljs-params">(<span class="hljs-keyword">double</span> change)</span></span>{
        <span class="hljs-keyword">if</span>(editingIdx == <span class="hljs-number">0</span>) Kp += change;
        <span class="hljs-keyword">if</span>(editingIdx == <span class="hljs-number">1</span>) Kd += change;
        <span class="hljs-keyword">if</span>(editingIdx == <span class="hljs-number">2</span>) Ki += change;
        initializeCoefficients();
    }
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPosition</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment">// Create and register the setpoint</span>
        <span class="hljs-keyword">double</span>[] coords = <span class="hljs-keyword">new</span> <span class="hljs-keyword">double</span>[]{<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>};
        coords[getModeIndex()] = setpoint;
        drivetrain.setPosition(coords);
    }
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getModeIndex</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">if</span>(mode == PIDCalibration.CalibrationMode.X) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span>(mode == PIDCalibration.CalibrationMode.Y) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span>(mode == PIDCalibration.CalibrationMode.PHI) <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">CalibrationMode</span> </span>{ X,Y,PHI }
}</code></pre>
                                        <p>With ability to fine-tune offered by the new calibration program, I was able to use much smaller <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="85" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.235ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1430 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>P</mi></msub></math></mjx-assistive-mml></mjx-container> values (increased to the point where small, damped oscillations began) and comparable <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="86" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.359ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1484.5 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>D</mi></msub></math></mjx-assistive-mml></mjx-container>s, which stopped the oscillations but did not introduce jitter. When finding <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="87" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.84ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1255.4 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>I</mi></msub></math></mjx-assistive-mml></mjx-container>s, I ended up settling on values of 0 or near-0, since anything greater caused the robot to overshoot the setpoint and take a very long time to return.</p>
                                        <p>Ultimately, these were the values I obtained for each coefficient:</p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="88" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="40.27ex" height="1.984ex" role="img" focusable="false" viewBox="0 -683 17799.5 877" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.439ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(849.8, 0)"><use xlink:href="#MJX-TEX-N-3A"></use></g><g data-mml-node="msub" transform="translate(1405.6, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g><g data-mml-node="mo" transform="translate(3113.4, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(4169.1, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-31" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-32" transform="translate(1278, 0)"></use></g><g data-mml-node="mo" transform="translate(5947.1, 0)"><use xlink:href="#MJX-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(6391.8, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g><g data-mml-node="mo" transform="translate(7925, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(8980.8, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(1278, 0)"></use><use xlink:href="#MJX-TEX-N-31" transform="translate(1778, 0)"></use></g><g data-mml-node="mo" transform="translate(11258.8, 0)"><use xlink:href="#MJX-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(11703.4, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g><g data-mml-node="mo" transform="translate(13465.7, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(14521.5, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-31" transform="translate(1278, 0)"></use><use xlink:href="#MJX-TEX-N-32" transform="translate(1778, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(2278, 0)"></use><use xlink:href="#MJX-TEX-N-39" transform="translate(2778, 0)"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>:</mo><msub><mi>K</mi><mi>P</mi></msub><mo>=</mo><mn>0.12</mn><mo>,</mo><msub><mi>K</mi><mi>I</mi></msub><mo>=</mo><mn>0.001</mn><mo>,</mo><msub><mi>K</mi><mi>D</mi></msub><mo>=</mo><mn>0.01209</mn></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="89" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="33.8ex" height="2.009ex" role="img" focusable="false" viewBox="0 -683 14939.5 888" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D466"></use></g><g data-mml-node="mo" transform="translate(767.8, 0)"><use xlink:href="#MJX-TEX-N-3A"></use></g><g data-mml-node="msub" transform="translate(1323.6, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g><g data-mml-node="mo" transform="translate(3031.4, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(4087.1, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-35" transform="translate(1278, 0)"></use></g><g data-mml-node="mo" transform="translate(5865.1, 0)"><use xlink:href="#MJX-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(6309.8, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g><g data-mml-node="mo" transform="translate(7843, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(8898.8, 0)"><use xlink:href="#MJX-TEX-N-30"></use></g><g data-mml-node="mo" transform="translate(9398.8, 0)"><use xlink:href="#MJX-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(9843.4, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g><g data-mml-node="mo" transform="translate(11605.7, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(12661.5, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-31" transform="translate(1278, 0)"></use><use xlink:href="#MJX-TEX-N-32" transform="translate(1778, 0)"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>:</mo><msub><mi>K</mi><mi>P</mi></msub><mo>=</mo><mn>0.05</mn><mo>,</mo><msub><mi>K</mi><mi>I</mi></msub><mo>=</mo><mn>0</mn><mo>,</mo><msub><mi>K</mi><mi>D</mi></msub><mo>=</mo><mn>0.012</mn></math></mjx-assistive-mml></mjx-container></p>
                                        <p><mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="90" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="35.8ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 15823.5 899" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D719"></use></g><g data-mml-node="mo" transform="translate(873.8, 0)"><use xlink:href="#MJX-TEX-N-3A"></use></g><g data-mml-node="msub" transform="translate(1429.6, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D443"></use></g></g><g data-mml-node="mo" transform="translate(3137.4, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(4193.1, 0)"><use xlink:href="#MJX-TEX-N-32"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-34" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-38" transform="translate(1278, 0)"></use></g><g data-mml-node="mo" transform="translate(5971.1, 0)"><use xlink:href="#MJX-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(6415.8, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g><g data-mml-node="mo" transform="translate(7949, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(9004.8, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-30" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-31" transform="translate(1278, 0)"></use></g><g data-mml-node="mo" transform="translate(10782.8, 0)"><use xlink:href="#MJX-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(11227.4, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D437"></use></g></g><g data-mml-node="mo" transform="translate(12989.7, 0)"><use xlink:href="#MJX-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(14045.5, 0)"><use xlink:href="#MJX-TEX-N-30"></use><use xlink:href="#MJX-TEX-N-2E" transform="translate(500, 0)"></use><use xlink:href="#MJX-TEX-N-31" transform="translate(778, 0)"></use><use xlink:href="#MJX-TEX-N-34" transform="translate(1278, 0)"></use></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi><mo>:</mo><msub><mi>K</mi><mi>P</mi></msub><mo>=</mo><mn>2.48</mn><mo>,</mo><msub><mi>K</mi><mi>I</mi></msub><mo>=</mo><mn>0.01</mn><mo>,</mo><msub><mi>K</mi><mi>D</mi></msub><mo>=</mo><mn>0.14</mn></math></mjx-assistive-mml></mjx-container></p>
                                        <p>I then ran <code class="inline-snippet">PositionControlTest</code> and directed the robot to move 3 tiles ahead and 1 tile to the right. It worked quickly and accurately, and since I cut off power once <code class="inline-snippet">isBusy()</code> returned <code class="inline-snippet">false</code>, there was basically no oscillation.</p>
                                    <h3>Takeaways</h3>
                                        <p>From my work with tuning coefficients today, I have learned:</p>
                                        <li class="list-elem">WPI's experimental tuning method is simpler and more flexible than Ziegler-Nichols, at least for this robot</li>
                                        <li class="list-elem">For our system, PD control is very effective and high values of <mjx-container class="MathJax CtxtMenu_Attached_0" jax="SVG" role="presentation" tabindex="0" ctxtmenu_counter="91" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="2.84ex" height="1.885ex" role="img" focusable="false" viewBox="0 -683 1255.4 833" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.339ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-TEX-I-1D43E"></use></g><g data-mml-node="mi" transform="translate(849, -150) scale(0.707)"><use xlink:href="#MJX-TEX-I-1D43C"></use></g></g></g></g></svg><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>I</mi></msub></math></mjx-assistive-mml></mjx-container> are undesirable</li>
                                        <li class="list-elem">It's important to start with small adjustments to the coefficients when tuning and carefully observe how the system responds</li>
                                    <h3>Plans</h3>
                                        <p>Now that the position control system is finished, I'm going to write a new version of the <code class="inline-snippet">AutonDraft</code> mode that implements it. That work will be documented in the Autonomous wobble delivery and ring launching card.</p>
                    </div>
                </div>
            </div>
            <div class="jumbotron"></div>
            <div class="row">
                <div class="central-col col-md-12">
                    <div class="card">
                        <h1 class="main" id="cardIntake-V2">Intake V2</h1>
                        <div class="users type">
                                <a style="background-color: #FFCDD2">Mechanical</a>
                        </div>
                        <div class="users">
                                <a>Cailean Sorce</a>
                                <a>Wolfie Davis</a>
                                <a>Collin Adams</a>
                        </div>
                        <h1 id="cardIntake-V2-goal">Goal</h1>
                            <p>To design and build a new intake and shooter assembly that improves on the first version in the following ways:</p>
                            <li class="list-elem">The intake will be able to be used with OR WITHOUT the rake. From observing the intake V1, that will require adding another set of wheels that the rings go under first before being pushed up and into the holding area for the shooter</li>
                            <li class="list-elem">replace the geared intake wheel drive with a chain drive to allow for a narrower, easy to access driving system</li>
                            <li class="list-elem">lower the holding container in relation to the final set of intake wheels, eliminating the issue where rings get stuck on the front lip of the holding container</li>
                            <li class="list-elem">eliminate multi-ring jams. The most straight forward way to do this will be adding a plate in the front that only one ring can pass under at a time     </li>
                        <h1 style="margin-bottom: 0">Entries</h1>
                                <h1 class="entry-sprint" id="cardIntake-V2-sprint3">Sprint 3</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>11/27/2020</h2>
                            <div class="columns">
                            </div>
                                    <h3>Progress</h3>
                                        <p>Initial brainstorming for the best approach for a new intake was done. We quickly decided that it would be best to have two sets of intake wheels, set up so that the rings go under the first set and over the second set, much like the set up pictured bellow. </p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1MidS-F2szHIpZZQPJHX1MtNnyAvCm0Of/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_dca61467-9317-444e-a5cd-308aa2096e09.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_6111.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 2 months ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1Fn_x6Kxd5CiKNQeZKn6IyfUt8EKsoQWL/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_4edf4c02-b7f3-400e-95db-1128185ab950.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_6110.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 2 months ago</span>
                    </p>
                </a>
            </div></div></div>
                                        <p>This configuration allows the rings to be pushed up the bottom metal ramp and into the second set of wheels by the first set of wheels, without relying on the rake. Having the rings go over the second set of wheels (instead of under) allows the rings to be lifted far enough up to be dropped into a holding container without sacrificing horizontal space. After building the set up shown above (as part of our brainstorming), we decided that it would be easier to design and laser cut a custom acrylic frame to hold the two sets of wheels and ramps; a custom frame will allow us to easily mount all the components where they will work best without having to work around metal beams.</p>
                                    <h3>Plans</h3>
                                        <p>Draw the basic layout of the acrylic frame noted above, and then CAD and laser cut a prototype (out of cardboard)</p>
                            <hr>
                            <h2>12/01/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today we CADed and laser cut the first version of the intake frame out of corrugated cardboard for testing. Pictured below is the drawings we made to illustrate the basic outline of the intake, as well as the assembled cardboard frame (without the wheels).</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1UiLpw9kAZk9p1PI2MLIt_arF2CM_AUWE/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_121c2b59-783c-423d-863b-814834534c5d.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_003.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>Although the cardboard is to flimsy to mount a motor on, we were able to do preliminary testing of the design by spinning the wheels by hand. the largest issue we found was the side plates prohibiting the top ramp from getting close enough to the wheels to effectively grip a ring. </p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/12sABQUjTouzislA2JN0XwxfGLPIu1rHi/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_53ade4a6-aaf9-473e-868c-17012302828f.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/quicktime">IMG_2159.MOV</span>
                        <span class="bookmark-edited">Last edited by Collin Adams 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Plans</h3>
                                        <p>We will adjust the side plates in CAD as needed, and then laser a new prototype. The next prototype will be made out of higher quality double corrugated cardboard, which should be strong enough to hold its form better, put bearings in, and possibly mount the motor on.</p>
                            <hr>
                            <h2>12/03/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>We lasered the redesigned intake frame out of stronger corrugated cardboard. As previously discussed, we adjusted the top ramp clearance in the side plates. We also moved the slots (for adjustability) for the bottom ramp from the ramp attachment plates to the side plates to make for a slightly sturdier design. </p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1MFHJ1IAE92lIhJTy5Y7iOqcM8sLtoTYa/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_17de10dc-74a0-4209-957f-8ba5c4b39f67.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_001.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Plans</h3>
                                        <p>We ran out of time to test the new frame, so we will continue with that next Monday</p>
                            <hr>
                            <h2>12/07/2020</h2>
                            <div class="columns">
                            </div>
                                    <h3>Takeaways</h3>
                                        <p>The cardboard proved to be slightly to flimsy to support the motor and chain drive, but from the few testes we were able to run before the wheel bearings started to come out of the cardboard and without the motor, the design appears to work well. Pictured is a ring being fed through the intake</p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1Ukgg9Dq-urIypoRDUUcP64GcVvWCR1qe/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_70c95a17-2469-468d-ab6e-38d39bb9b802.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_003.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1-VgrkEvC1mUIn15ywOBTtm1vLvaDRPYh/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_708c659e-c1d5-420a-bf38-3c479ffd1a72.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_004.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Plans</h3>
                                        <p>We will laser at least the side plates out of acrylic so that we can mount and test the motor and chain drive more thoroughly.</p>
                            <hr>
                            <h2>12/08/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today we lasered the side plates of the intake as well as the front and back mounting plates for it, so we could continue our testing of the chain drive. We kept using the cardboard ramps as they were easier to adjust and were not necessary to have out of acrylic yet. We also moved from testing it by hand to testing it on the chassis. Since it mounts onto the middle chassis support, which we had not previously installed, we had to install it and to do so had to make so slight modifications to the bottom metal plate (cutting notches where the middle support goes):</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/15A8tjVMGLnGmF-hpetOJS9Izv45iNA7a/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_b5493054-af61-42c4-b1a7-c2ecd130c4fb.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_6541.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 week ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>In testing we figured out that the front of the intake needs to be raised slightly because the robot sinks into the mats of the field just slightly, making the distance between the ramp and intake wheels just barely too close. To solve this, we moved the holes to the top of the slots on the hole pattern instead of the bottom and the intake worked very well and reliably. We also bent the upper ramp slightly so it formed a continuous plate with the bottom one, which solved our bending and jamming issue with the upper two ramps. Additionally, the rings would bounce around in the holding area, causing them to get caught and not be flat. To solve this, we added an extra tall back plate and an extra angle to the upper ramps so that the rings are guided directly into the holding area.</p>
                                        <p>Video of testing:</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1ChReGx6DQMV71s__5_gqVHu8my8DdzPs/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_41a9d486-4780-421a-8a54-8d18ce3eb4cc.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/quicktime">IMG_6087.MOV</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Plans</h3>
                                        <p>The next steps are to laser the new upper ramp plates, and to add the servo that feeds the rings into the shooter. Additionally, we need to finalize the design of the shooter assembly and laser that out of acrylic for testing as well.</p>
                            <hr>
                            <h2>12/10/2020</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                            </div>
                                    <h3>Takeaways</h3>
                                        <p>Upon testing the acrylic ramps with the cardboard sleeves, we found that they worked well. The top works better with the sleeve only taped on at the bottom (it helps to direct the rings into the holding container), so we left it loose on top.</p>
                                    <h3>Plans</h3>
                                        <p>We will continue to test the design, but until we break something, we will leave the intake as it is.</p>
                            <hr>
                            <h2>12/18/2020</h2>
                            <div class="columns">
                                    Final Design
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today I (Wolfie) did lots of driving testing.  </p>
                                    <h3>Takeaways</h3>
                                        <p>The intake works quite well, even without the rake, the only thing is the first set of intake wheels need to be cleaned regularly due to the ring dust and dust and dirt from the tiles that accumulate on the sticky surface of the wheels, causing them to not intake as well, which requires the driver to wiggle the robot around, or push it against a wall or another ring or to use the rake to help it intake them.</p>
                                    <h3>Plans</h3>
                                        <p>Improve the sliding of the rings over the ramps/ guards; the main issue with the intake is friction between the rings and the ramps/guards.</p>
                                <h1 class="entry-sprint" id="cardIntake-V2-sprint4">Sprint 4</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>12/29/2020</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                            </div>
                                    <h3>Progress</h3>
                                        <p>To help with the friction issue, at least on the top set of guards, we removed the top section of the top guard, keeping the cardboard in place, and replaced the guard with a piece of loose surgical tubing. We then used tape to attach a small piece of bent metal to the cardboard so that it would still maintain somewhat of a curved shape.</p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1Brth_B1mR-2YHozcUI6hX6pjNih26lgG/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_c93353fd-e3f1-432f-b9fc-302fc268bc11.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_7474.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 month ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1M4IgUMUaVq1E7CcaWNJWPEg7iEeNXA1-/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_aaa783a8-b83c-4889-9fc7-160dd6a101af.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_7473.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 month ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Takeaways</h3>
                                        <p>This allows the ring to go past the top set of wheels without as much bending (the surgical tubing can stretch) while still being directed back down into the holding container after they have passed the top wheels (when the surgical tubing retracts back to it loose state) by the cardboard, which maintains the proper curve via the metal support. </p>
                                    <h3>Plans</h3>
                                        <p>It would be nice to implement a version of the above concept that doesn't rely so much on tape and card board, but for now it is working, and the priority is to eliminate friction between the rings and the bottom ramp.</p>
                            <hr>
                            <h2>01/05/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                                    →
                                    Done
                            </div>
                                    <h3>Progress</h3>
                                        <p>Since there isn't a was to decrease the amount the rings are bending on the lower ramp (short of a complete redesign of the intake), we decided to replace the bottom ramp with a set of non driven rollers. There is still a short ramp above the rollers allowing the rings to be cleanly delivered to the top wheels, and the metal bottom is still used to "scrape" the rings off the ground. </p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1HtutBDiQg_iC8D9aRrN5tFBLQHUy6QSm/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_35ccda3a-4d07-4c7c-9a6e-1c241f50dc6b.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_001.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 month ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1orDAZ8Kc4R3ZKJXPc1KKjv7koHn6YZDI/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_0a9f5e94-21c0-4e5c-b654-1e934b5de05d.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_003.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 month ago</span>
                    </p>
                </a>
            </div></div></div>
                                        <p>We also added slots in the metal bottom plate so that it could be moved front to back to more precise positions:</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1bcyF6ix0o2_7cPfvK3XoSEyZHV9PhFNM/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_ddcfada7-ac75-4d48-b51e-e22f19cb9199.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_002.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 week ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>These rollers spin when the rings pass over them, allowing the rings to be fed to the upper set of wheels much easier then a ramp. Fortunately the intake was designed in a way that allowed just the bottom ramp to be replaced without changing the rest of the intake. The top ramp section, which is made of acrylic, still presented some friction, but we found that sanding it greatly helped. Over all, the rollers are a large improvement over the ramp. Being able to fine tune the position of the bottom metal ramp also improved performance, although not as noticeably.</p>
                                    <h3>Plans</h3>
                                        <p>We will continue testing the intake, along with the rest of the bot, but for the moment, until we find another problem with the intake, this project will be moved to done.</p>
                            <hr>
                            <h2>02/18/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                                    →
                                    Done
                            </div>
                                    <h3>Progress</h3>
                                        <p>The top flap of cardboard was replaced with a curved piece of sheet metal, as it was wearing out and required very precise adjustments of the elastic strap (which keeps pressure on the rings) to correctly deliver the rings, as it would bend as the rings passed under it.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1cBHeLOl3Mu5b1M8HvUJZqwhpeAKflJt_/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_049ead48-e3d0-4808-9276-2ffabec87de5.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_000.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 week ago</span>
                    </p>
                </a>
            </div>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1YAVZWx0hsl_Nq1jJcuMFvBIa8UGnaJci/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_663532a2-ced4-4cf8-8db3-84c711d43011.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_000.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 week ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/13BDv9-eBUdQaKJw1Ctgn3c_y_J7i73oi/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_0e5bc0a0-db56-4802-bb10-8d638fea8539.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_001.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 week ago</span>
                    </p>
                </a>
            </div></div></div>
                                        <p>We also put the bottom metal plate on hinges, so that it rests on the ground and can move up and down with small variations in the field, for example where the wall straps pass under the tiles. Since the back half of the plate had already been cut off to make room for the middle odometry pod, adding minges was not very hard; we just punched two new holes in the metal, bent the sides in (so they wouldn't rub on the chassis where they used to attach), and used actobotics hardware to attach it to the middle chassis support beam:</p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1CgfCTTf9CFBZ0P9Cj9U7PVOhx6sp7qCG/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_3522f2c9-548c-4ffb-aa91-dcae3f1f38e8.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_002.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 week ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1-Mx4aysEUYASwDv7BCN7TpOVDEQkB8Bx/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_e4a6f287-6efa-4f00-9944-9351c5d21530.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_004.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 week ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Takeaways</h3>
                                        <p>The metal keeps it's shape much better then the cardboard, and after a little experimentation with how it is bent, proved to be much more consistent in how it effected the delivery of the rings. Unfortunately, it cannot just ride lightly on top of the top wheels as the cardboard did; due to how the metal is shaped and where the pivot point is, if it comes into contact with the top wheels, the friction is great enough to stall the entire intake. As a temporary fix, we secured a piece of paper between the front of the intake and the metal. As it worked quite well, and we didn't have any other ideas that would as simple to implement, we stuck with it, replacing the paper with a thicker piece of sticker backing. Having the bottom metal ramp ride on the ground also helped a lot. Previously, we would sometimes encounter a problem where the rings would briefly get stuck on the bottom of the metal ramp, but adding the hinge on the ramp has solved this problem.</p>
                                    <h3>Plans</h3>
                                        <p>Until we find another problem with the intake (or think of a way to improve it), it will be considered done.</p>
                    </div>
                </div>
            </div>
            <div class="jumbotron"></div>
            <div class="row">
                <div class="central-col col-md-12">
                    <div class="card">
                        <h1 class="main" id="cardShooter-V2">Shooter V2</h1>
                        <div class="users type">
                                <a style="background-color: #FFCDD2">Mechanical</a>
                        </div>
                        <div class="users">
                                <a>Wolfie Davis</a>
                                <a>Cailean Sorce</a>
                                <a>Collin Adams</a>
                        </div>
                        <h1 id="cardShooter-V2-goal">Goal</h1>
                            <p>To redesign the shooter frame (which is also the holding container) to work with the new intake (Intake V2). The basic layout of the fist shooter will be carried over from the original shooter, but the frame will have to be made narrower to connect to the new intake.</p>
                        <h1 style="margin-bottom: 0">Entries</h1>
                                <h1 class="entry-sprint" id="cardShooter-V2-sprint3">Sprint 3</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>12/03/2020</h2>
                            <div class="columns">
                                    Not Started
                                    →
                                    Ideation
                                    →
                                    Prototyping
                            </div>
                                    <h3>Progress</h3>
                                        <p>We lasered out a prototype for the new shooter assembly, which was designed in CAD to connect to the V2 intake:</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1pVKIda6HpQ-CCGi6gVO32ghY4FZcmBwQ/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_16971e66-bff3-41bd-bbe4-328bd84b2036.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/png">Shooter_intake V2 assy v66.png</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div>
                                        <p>As can be seen, since the motor and wheel had to extend outside the assembly, two smaller beams which pass over and under the shooter wheel were used. The servo used to push the rings from the holding container into the shooter was also moved to the front of the holding container where it could be placed with out interfering with the intake. placing the servo in the front (instead of the side) should also allow it to move less to get the rings into the shooter, which means it will be able to shoot faster. We decided to assemble it with the shooter motor on the opposite side of where it is in CAD, in order to keep it consistent with the previous shooter. </p>
                                    <h3>Takeaways</h3>
                                        <p>The assembly proved to be very sturdy, even out of cardboard. pushing rings through it by hand it appears it should work well, although we did not get to mount it to the intake yet.</p>
                                    <h3>Plans</h3>
                                        <p>Mount the shooter assembly to the intake, and test that the intake is able to deliver rings into the holding container and that it can then shoot the rings accurately</p>
                            <hr>
                            <h2>12/08/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today we mounted the cardboard shooter assembly to the V2 intake, and tested that rings could be reliably delivered into the holding container</p>
                                    <h3>Takeaways</h3>
                                        <p>As can be seen in the bellow video, the shooter assembly was able to attach and work with the V2 intake as expected. Unfortunately we ran out of time to test the actual shooting.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1ChReGx6DQMV71s__5_gqVHu8my8DdzPs/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_160b8c11-d72b-4053-85f6-af8a863ba8d8.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/quicktime">IMG_6087.MOV</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Plans</h3>
                                        <p>The next steps are to mount the servo to push the rings into the shooter and test the shooting reliability and accuracy. Then the entire shooter assembly, with the V2 intake, will be tested on the field.</p>
                            <hr>
                            <h2>12/10/2020</h2>
                            <div class="columns">
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>We mounted the servo to the shooter, which is used to push the rings into the shooter. The servo is located under the intake, so we weren't able to get any good pictures of it, however it can be seen in a cross section of the CAD model:</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1wKSUrwkINtF9Hb51eGYux0c16vq35yHL/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_43f96c19-f777-4e16-81ab-120b10910649.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/png">Shooter_intake V2 assy v66 2.png</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>Upon testing, it appears the shooter will function as expected; the servo is able to push the rings into the shooter, where the wheel is able to accurately launch them.</p>
                                    <h3>Plans</h3>
                                        <p>Test the design in the field, with the bot being driven. If it continues to work as expected, all the plates will be lasered out of acrylic, except for the top and bottom plates of the shooting chamber, which will remain cardboard to keep the friction against the rings lower.</p>
                            <hr>
                            <h2>12/15/2020</h2>
                            <div class="columns">
                            </div>
                                    <h3>Progress</h3>
                                        <p>Yesterday further testing of the V2 intake and shooter was done. The plates for the shooter were cut out of acrylic.</p>
                                    <h3>Takeaways</h3>
                                        <p>The shooter was found to work well</p>
                                    <h3>Plans</h3>
                                        <p>The acrylic version of the shooter needs to be assembled and then mounted to the bot.</p>
                            <hr>
                            <h2>12/18/2020</h2>
                            <div class="columns">
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Testing of the shooter was done while the bot was being driven. Also, the acrylic version of the shooter and holding area was almost completely assembled, but there just need to be a couple more tapped holes and then it will be done.</p>
                                    <h3>Takeaways</h3>
                                        <p>During testing I (Wolfie) found that the shooter is mostly reliable but the spot of the robot matters much more than with the previous version. This may be due to the fact that the angle of the previous shooter was very hard to match in building this version. We are using the same upright beams to mount it and adjust the angle, but they don't line up as nicely.  The acrylic version should be able to fix some of those issues, as the current version is made out of cardboard, which may have also added to the different angle and the sagginess of it.</p>
                                    <h3>Plans</h3>
                                        <p>Finish assembling the acrylic shooter and mount it on the bot.</p>
                                <h1 class="entry-sprint" id="cardShooter-V2-sprint4">Sprint 4</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>12/29/2020</h2>
                            <div class="columns">
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>The acrylic shooter assembly was finished and mounted to the bot. It is pictured bellow before the servo was mounted:</p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1tdsei597CCXSWVMTggvBehZ_tdzP88do/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_defbba64-97b8-4144-901f-bf6e875d4d45.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_000.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1cKq3OSnYbID8CXh0KexcMlLJOOTLPmEq/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_d0af056a-68f1-4a2d-8a0e-46260bfd5eb6.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_001.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Takeaways</h3>
                                        <p>The acrylic shooter appears to work, but after formally testing the distance it is capable of shooting the rings, we confirmed that we will have to adjust it to comply with the maximum shooting distance rule, as it currently shoots around 25ft.</p>
                                    <h3>Plans</h3>
                                        <p>Adjust the shooter so that it can not shoot further than 16ft in order to comply with the FTC game rules</p>
                            <hr>
                            <h2>01/07/2021</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>We tried simply lowering the velocity of the shooter wheel and increasing the angle in order to comply with the 16ft max shooting distance while still being able to shoot into the high goal, but found that we had to lower the velocity to around 45%, at which point the motor controller was able to maintain a constant velocity for the wheel, making the shooting inconsistent. We then realized that using a smaller diameter wheel might allow us to over come these problems, so we switched the 4in green compliant wheel for a 3" green compliant wheel. The switch allowed us to run the motor at around 70% velocity, where the controller was able to maintain a consistent speed, without shooting over the 16ft max distance and while still being able to hit the top tower goal.</p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1VZCFb7UXlOVHP8xHEy5yOQLW8lfnZFlV/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_26006164-c10d-405d-a59c-27d52878eea2.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_6978.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 month ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1jp8Bi8pm78U1WFJ7sbOA9WDTP-6lv0r2/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_02d19771-f699-41a2-b35c-d9f5dffdcde0.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_6980.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 month ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Takeaways</h3>
                                        <p>The rev expansion hub is not able to maintain a constant velocity for a wheel with a moment of inertia as large as the 4" green compliant wheel when only spinning it at 45% velocity (through a 1:1 motor). A simple fix to this problem is moving to a wheel with 1) a lower moment of inertia, which allows for lower energy consumption when accelerating, and 2) with a smaller radius, resulting in a similar tangential velocity as a wheel with a larger radius spinning at a lower speed, allowing for the an increase in radial velocity without altering the tangential velocity.</p>
                                    <h3>Plans</h3>
                                        <p>As can be seen above, the shooter structure had be be modified to work with a smaller wheel. These changes need to be implemented in a more permanent, structurally secure, way.</p>
                            <hr>
                            <h2>01/11/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                            </div>
                                    <h3>Progress</h3>
                                        <p>Over the weekend I (Cailean) redesigned the shooter assembly to reflect the changes we made in order to work with the smaller shooter wheel. Today we lasered out the new plates, which create a gap in the motor side top support beam so that the motor can move closer to the shooting track. </p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1wbk7OJVJyxYHTylj8YW2iQ3Klkw9LrBT/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_1f19df54-fd02-4cca-ad45-5c67f3921b04.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/png">shooter small wheel support1.png</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 month ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1aJnHDVeNMKnGDaAlvD-rNmv-NAy_ttW_/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_7b65631d-a09a-420f-80ff-0b94a5fe9687.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_7483.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 month ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Takeaways</h3>
                                        <p>I was worried about removing the support beam above the shooting wheel, but the new design appears to still have planty of strength.</p>
                                    <h3>Plans</h3>
                                        <p>The shooter will need to continue to be tested in conjunction with the rest of the bot. </p>
                            <hr>
                            <h2>01/19/2021</h2>
                            <div class="columns">
                                    Final Design
                                    →
                                    Done
                            </div>
                                    <h3>Progress</h3>
                                        <p>For the moment, the design, pictured bellow, will be considered done.</p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1fGVj_99T1ERxKdJK21Wx4TwnXcDcApHL/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_dbf36123-d119-4715-af0c-000824eec757.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/png">Shooter_intake V2 assy v82-2.png</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 month ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/12IKWe7jyvO3B6qglwZkAnb-FnL5Ddosp/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_bf02ca33-f428-4fe0-b225-ab23211ff1af.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/png">Shooter_intake V2 assy v82.png</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 1 month ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Takeaways</h3>
                                        <p>After a week + of testing, the shooter assembly appears to be holding up, and no changes to the design are foreseen, unless another part of the bot changes.</p>
                            <hr>
                            <h2>02/16/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Final Design
                                    →
                                    Done
                            </div>
                                    <h3>Progress</h3>
                                        <p>The servo that pushes the rings into the shooter wheel was moved from the front side of the holding container to the left side. The primary reason for doing this was to make removal of the shooter assembly easier; with the previous servo servo placement, the shooter assembly had to be tilted down to horizontal so that the servo could pass around the top intake wheels. This did not used to be a problem, but the new side plates (specifically the back plate) doesn't allow this movement, so it has to be removed to take shooter out. A new arm was also put on the servo which curves around the holding container sides. Thick wire was used to make the arm, as that was what was available and could easily be bent to the needed shape.</p>
                                        <div class="column-list"><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1ENZXwzIAUfQF48BX8PN5qpR0206KXX3Z/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_c79601d3-1064-4446-8d95-058a3999436a.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_8412.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 week ago</span>
                    </p>
                </a>
            </div></div><div class="column"><div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1Rq678UQIoY1RlHjst6YSoDuqu-X-Qn9G/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_2bcaee65-c047-4c55-b47a-a1464fc06a70.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_8411.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 1 week ago</span>
                    </p>
                </a>
            </div></div></div>
                                    <h3>Takeaways</h3>
                                        <p>Mounting the servo on the side allows the shooter to be taken off without taking anything else apart. The new placement also allows a slightly smaller movement of the servo to bring the ring into contact with the shooter wheel (~30deg vs ~40deg), which makes for faster shooting. Additionally, the new arm geometry has eliminated a problem where a ring could get stuck behind the arm, preventing it from returning to the retracted position.</p>
                                    <h3>Plans</h3>
                                        <p>The wire used for the new arm is slightly to bendable for comfort, so I will double or possibly triple it (an acrylic arm can not be used as the arm has to be slim to fit next to the rings in the holding container).</p>
                    </div>
                </div>
            </div>
            <div class="jumbotron"></div>
            <div class="row">
                <div class="central-col col-md-12">
                    <div class="card">
                        <h1 class="main" id="cardRake-">Rake </h1>
                        <div class="users type">
                                <a style="background-color: #FFCDD2">Mechanical</a>
                        </div>
                        <div class="users">
                                <a>Wolfie Davis</a>
                                <a>Cailean Sorce</a>
                                <a>Lindsay Beer</a>
                        </div>
                        <h1 id="cardRake--goal">Goal</h1>
                            <p>Create a simple, reliable, and fast way to get rings into the robot by using a rake mechanism</p>
                        <h1 style="margin-bottom: 0">Entries</h1>
                                <h1 class="entry-sprint" id="cardRake--sprint2">Sprint 2</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>10/26/2020</h2>
                            <div class="columns">
                                    Not Started
                                    →
                                    Ideation
                                    →
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today the idea of an intake rake, from the very first design meeting was revisited, and I built an intake rake, based on sketches from Cailean, out of x-rail and cardboard. I mounted a u channel on top of the x rail to allow collars to be screwed into it to provide support for the 6mm d-shaft rods used for the structure. Having x-rail on only one side allows for the design to be simple as well as to be easily driven fast. The cardboard was supported on the top and front, such that it would all move as one piece, and be strong while still being very slim and made of cardboard.</p>
                                        <p>Sketch from beginning of year (9/15/2020):</p>
                                        <img src="static/saved_files/0B4F0B5E-FC2A-49F2-96E7-966CBF88D2FC.jpeg" height="auto" width="4032">
                                        <p>Cailean's sketch (10/26/2020):</p>
                                        <img src="static/saved_files/9624DBBA-85D5-4010-B5C0-0BE833FEB98D.jpeg" height="auto" width="1024">
                                    <h3>Takeaways</h3>
                                        <p>We found the design to be promising, and will continue to work on refining it.</p>
                                        <p>Prototyping and Testing:</p>
                                        <img src="static/saved_files/F2225858-F4DA-4C42-8324-CF8155C15A7D.jpeg" height="auto" width="4032">
                                        <img src="static/saved_files/DFCB959C-2388-44AE-BFE4-94F31FACCE87.jpeg" height="auto" width="4032">
                                        <img src="static/saved_files/D0F6FE02-E9E4-459D-A045-3516D1916D4A.jpeg" height="auto" width="4032">
                                    <h3>Plans</h3>
                                        <p>Cut the tines out of acrylic and animate the assembly, which Cailean is designing a pulley system for. The goal is to incorporate a clutch system or other way for it to slip if it goes too far, to prevent mechanical breakages on a system that is moving quite rapidly. Also walls will be added to the sides of the rake, so that if we grab a ring, we can be moving the robot as we intake it, without losing control of the ring.</p>
                            <hr>
                            <h2>10/28/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Cailean's clutch wheel system was added and tested. It is run by the 90 degree motor mount I made very early in the year and works well. The cabled running it were tightened and a second slide was attached to give the rake more reach.</p>
                                    <h3>Plans</h3>
                                        <p>However it is attached in a pretty sketchy way, so I will laser out a plate to mount it in a more sturdy way. </p>
                            <hr>
                            <h2>11/01/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today I lasered out a plate for the motor to be mounted on the side of the robot so it will be more sturdy. It was counter bored on one side and had a place for cap nuts lasered into the other side. More refinement on the cable system was done as well.</p>
                                    <h3>Takeaways</h3>
                                        <p>The piece fit and was much stronger than the previous mount and will be very helpful in the rigidity and functionality of the mechanism as the rake moves at high speeds and wobbling parts can lead to failure of parts.</p>
                                    <h3>Plans</h3>
                                        <p>Next steps for this are to improve the rake's movement and make it smoother as well as remove the tolerances in the x rail wheel brackets by lasering a new replacement plate.</p>
                            <hr>
                            <h2>11/09/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today I designed and lasered new brackets for the x rail slider wheels to remove the tolerances on the original parts that caused the whole system to sag and wobble. </p>
                                        <p>Takeaways </p>
                                        <p>It worked very well and allows the rake to move much more smoothly and wobble a lot oless especially at full extension.</p>
                                    <h3>Plans</h3>
                                        <p>Next steps are to finish assembly of this design with Lindsay's help, and Cailean is going to do a demo on the string tensioning so we all know how to tighten it when it undoubtedly loosens up again.</p>
                            <hr>
                            <h2>11/10/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today with the help of Lindsay, we took apart, upgraded and reassembled the rake intake so now it works better and the strings are tighter due to new pieces being designed and lasered to hold the wire on either end. The new ones use metal pieces that mount to the end of the x-rail and then lasered plates attached to one side that clamp onto the wire to hold the ends. </p>
                                    <h3>Takeaways</h3>
                                        <p>The upgraded wire system allows the rake to move better, and the wire doesn't get caught or pinched anywhere anymore.</p>
                                    <h3>Plans</h3>
                                        <p>Next steps are to mount the intake assembly onto the robot so we can start driving practice and other testing of the system.</p>
                                <h1 class="entry-sprint" id="cardRake--sprint3">Sprint 3</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>11/23/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>I (Cailean) put on a new set of rake forks and cross bar, with a new back stop rod placement. The new forks should improve the performance of the rake in two locations; first the new back stop rod placement allows the forks to be folded up on top of the intake mechanism to start, allowing more room for the intake without exceeding the 18" length limit. Second, the spacing of the forks and the deeper side forks should auto center the rings and help to only intake one ring at a time, both of which will help to avoid intake jams. I didn't have any acrylic glue available when I assembled it, so tape was used instead.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1khQL0J9Hw6z0N6PbqzhR1mCaVCG7PXRr/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_895cda1f-75aa-475b-ab1b-2866de29462e.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">62743236038__02AA43C2-DE8D-49DE-90DE-7E298A53F634.JPG</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 3 months ago</span>
                    </p>
                </a>
            </div>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1uVul6mR5LVsrKxkZ3slngaXYHXziy1C7/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_4e868728-52b0-416a-a52d-f9893557b2d8.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_4392.JPG</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 3 months ago</span>
                    </p>
                </a>
            </div>
                                        <p>I also added a string tensioner to the drive cable, in order to decrease the pully slipping. Since it is only a prototype, I reused a piece of broken acrylic which already had the correct holes. It does not fit within 18", but a finished piece with the same functionality can.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1HrRY__Js0VihgGjzWFEvdrSPrgp5AjVi/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_f7487fe8-bf0e-48e5-bd08-acaef58d2e3c.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">62785031991__340BE0C2-4336-4778-984B-70EC8EAA9B20.JPG</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 3 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>The new rake does not work as well as hoped, but is defiantly an improvement. it does auto center, but if two rings are directly side by side, they will still jam against the bot frame. The string tensioner works well, although there is still a lot of friction where the main out cable wraps around the wheel post.</p>
                                    <h3>Plans</h3>
                                        <p>A pulley will be added for the main out cable, to decrease friction. The rake will eventually need to be glued</p>
                            <hr>
                            <h2>11/24/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>We added a pulley for the main out string to decrease friction. This helped increase the rake out speed A LOT.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1qBGjg55rZeyo04fpW1r4VcDY4_x5J5GQ/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_20bc11ec-0471-44e5-b3ec-8a6738713634.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_4444.JPG</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 3 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>There was much more friction than we thought between the main out string and the wheel post it was curved around. Adding a pully for this direction change eliminated this friction.</p>
                            <hr>
                            <h2>12/01/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today there was the idea of a stop that would hold the rake from coming all the way in after the match has started, as to not break or jam components. To solve this, I (Wolfie) sketched out the idea of a simple spring loaded lever, that once the rake goes out the first time, it slides down and prevents the rake from coming all the way back in.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1m68SiRe-6PUvHz8m1GYSte4_DV66Oy1z/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_2ae78619-00ac-4cce-ba1e-8233d5c1785a.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">IMG_6109.JPG</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>A very simple part like this scan greatly improve the functionality of the much larger system by reducing unwanted motion.</p>
                                    <h3>Plans</h3>
                                        <p>More testing on the stop could be done, but for the moment, I think it will stay as is, unless it breaks, or the rake is changed.</p>
                            <hr>
                            <h2>12/07/2020</h2>
                            <div class="columns">
                                    Prototyping
                            </div>
                            <hr>
                            <h2>12/14/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>Today we worked on more testing of the rake and lasered out a new design that will allow any stacked rings to pass through it, allowing it to work better with the new intake, which has a front plate that will block stacked rings from going in. Pictured is the drawings of the rake design.</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1yv6trXwNM5s9e_TSKW9GzDPizu3tFRFB/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_b65d111c-181c-4e91-b61b-9b52a09c3142.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/jpeg">File_000.jpeg</span>
                        <span class="bookmark-edited">Last edited by Cailean Sorce 2 months ago</span>
                    </p>
                </a>
            </div>
                                    <h3>Takeaways</h3>
                                        <p>The new rake design seems to work as intended, as can be seen in the video below</p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1gur08Q7JIKplwHr_AEHCA6ArRUU7YSF7/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_6cb57cfd-c797-427f-8633-e1da44605ffa.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/quicktime">IMG_6533.MOV</span>
                        <span class="bookmark-edited">Last edited by Philip Davis 2 months ago</span>
                    </p>
                </a>
            </div>
                            <hr>
                            <h2>12/18/2020</h2>
                            <div class="columns">
                            </div>
                                    <h3>Plans</h3>
                                        <p>Next steps are to redesign the rake to fit more of this criteria.</p>
                            <hr>
                            <h2>12/20/2020</h2>
                            <div class="columns">
                            </div>
                                    <h3>Plans</h3>
                                        <p>Next steps are to assemble it on the actual robot and do lots of testing to make sure it doesn't jam and works well in many circumstances, and is strong.</p>
                            <hr>
                            <h2>12/21/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                                    →
                                    Final Design
                                    →
                                    Done
                            </div>
                                    <h3>Plans</h3>
                                        <p>Next steps are more testing through more driving practice, but other than that, for the moment the design is finalized temporarily.</p>
                    </div>
                </div>
            </div>
            <div class="jumbotron"></div>
            <div class="row">
                <div class="central-col col-md-12">
                    <div class="card">
                        <h1 class="main" id="cardWobble-Goal-pickup">Wobble Goal pickup</h1>
                        <div class="users type">
                                <a style="background-color: #FFCDD2">Mechanical</a>
                        </div>
                        <div class="users">
                                <a>Javante Williams</a>
                                <a>Jared  Kennedy</a>
                                <a>Sam Yager</a>
                                <a>Eva Joly</a>
                                <a>Lindsay Beer</a>
                        </div>
                        <h1 id="cardWobble-Goal-pickup-goal">Goal</h1>
                            <p>Develop an effective way to lift the wobble goal</p>
                        <h1 style="margin-bottom: 0">Entries</h1>
                                <h1 class="entry-sprint" id="cardWobble-Goal-pickup-sprint2">Sprint 2</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>10/08/2020</h2>
                            <div class="columns">
                                    Ideation
                                    →
                                    Prototyping
                            </div>
                                    <h3>Progress</h3>
                                        <p>Developed a pitchfork design to pick up the wobble goal via rotation. The design worked however there were some seemingly major flaws in it being that the prongs were too slippery making it hard to grip onto the wobble goal and that the 2” distance between the prongs allowed space for the wobble goal to roll out. This also meant more force was needed to lift up the wobble goal without it falling out.</p>
                                    <h3>Takeaways</h3>
                                        <p>When the prongs are stationed 2 inches apart the degree of motion needed to lift the goal is 135° while when they are distanced at 0.8 inches apart the wobble could be picked up at only 110°. Adding surgical tubing can increase the grip strength of the prongs. Decreasing the prong distance between each other minimized the possibility of the wobble goals rolling out.</p>
                                    <h3>Plans</h3>
                                        <p>Creating a possible square shaped handle to pick up the wobble goals rather than prongs to test if using squares with a greater width could prove more advantageous than using prongs with a smaller grabbing size.</p>
                            <hr>
                            <h2>10/22/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Takeaways</h3>
                                        <p>Learned the usage of button top screws to augment the utility of the funnel. Rather than using other shaped screws the button screws offers for a slippery surface that allows simple passage into the funnel. </p>
                                    <h3>Plans</h3>
                                        <p>Think of methods to lift the wobble goal pickup and attaching it onto the main body. We also have the objective in mind to fix the problem of the wobble pickup being able to grab the wobble goal but is unable to release it.
Thoughts -
Moving pad location
Spreading out the funnel
move funnel to where pads are currently located and move the pads higher
Multiple padded areas and open areas to fall out</p>
                            <hr>
                            <h2>10/23/2020</h2>
                            <div class="columns">
                                    Prototyping
                            </div>
                                    <h3>Takeaways</h3>
                                        <p>goBuilda and actobotics need acrylic adapters to be compatable. </p>
                                    <h3>Plans</h3>
                                        <p>Design adapters for REV robotics core hex motors and lazer them out. Then mount the motors inside the goBuilda U channel.2</p>
                                        <img src="static/saved_files/IMG_3110.jpg" height="auto" width="624">
                            <hr>
                            <h2>10/26/2020</h2>
                            <div class="columns">
                                    Prototyping
                            </div>
                                    <h3>Progress</h3>
                                        <p>Olaf and Cailean had a discussion about how different ways of rotation could be used to pick up the wobble goal. They drew many pictures showing their thinking on the subject. </p>
                                    <h3>Takeaways</h3>
                                        <p>The biggest takeaway from these sketches was that there are many different ways to pick up the wobble goal effectively. They debated which direction was best for the rotation, eventually deciding on the concept of a claw perpendicular to a rotating arm.</p>
                                    <h3>Plans</h3>
                                        <p>It was decided the best way to pick up the wobble goal was with a vertical rotation of a metal beam. That way the wobble goal can be more easily lifted over the wall. A prototype will now have to be built. </p>
                                        <img src="static/saved_files/CB7AAFFB-6E06-4F5C-A9EF-540DDCB6C404.jpeg" height="auto" width="4032">
                                        <img src="static/saved_files/D083D69F-D166-4761-8A10-335F626F184D.jpeg" height="auto" width="4032">
                            <hr>
                            <h2>11/12/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>(Cohort 2) Sam, Jared, and Javante mounted the bracket that they created for homework to the goBuilda beam. We then mounted the core hex motor to the bracket. We had to use 6-32 bolts instead of the metric bolts though because we did not have nuts for the metric bolts. We then mounted the wobble pick up design to a hex shaft that we cut to fit the arm. On Friday we finished putting the arm together, and we got code from Isaac. We then figured out how to mount the arm to the robot and started testing.</p>
                                    <h3>Takeaways</h3>
                                        <p>The current code is a good speed to move the arm, but does not have enough power to lift the wobble goal by itself. We also have to turn the robot the right direction once we have the wobble goal over the wall to cause it to roll out of the wobble goal pick up design.</p>
                                    <h3>Plans</h3>
                                        <p>We are going to design and prototype either a counter weight or use surgical tubing to aide the arm in picking up the wobble goal. If we have time we will also do more testing and driving practice. </p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/17o0psHAEKKqo4ALEq97xuNa4uTPIjFF4/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_9e114f4d-3e4e-45b1-bb0a-b7d54c025230.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/quicktime">wobble goal testing.MOV</span>
                        <span class="bookmark-edited">Last edited by Jared Kennedy 3 months ago</span>
                    </p>
                </a>
            </div>
                            <hr>
                            <h2>11/16/2020</h2>
                            <div class="columns">
                                    Prototyping
                            </div>
                                    <h3>Progress</h3>
                                        <p>(Lindsay) Changing the material used for the wobble, using bent acrylic for more precise fit. The acrylic piece will move towards the end of the bar more and either add a counterweight or cut bar to compensate. The dimensions of the acrylic piece are shown below, they will have a base dimension of 30mm(L)x38mm(H) and the sides will have dimensions of 37mm(L)x38mm(H). We will be using 1/16 inch acrylic for testing and can move to thicker material if needed. The acrylic plate should be bent at 90 degrees on both sides and mounted to the bar with two screws. The third and fourth images show the cardboard prototype. The goal is to have a snug fit surrounding the wobble goal and prevent unnecessary extra space. The second image shows the piece when attached to the bar, we are contemplating switching the u-channel for a flat bar, but we are testing both. The bar did not have bearings, so we removed it to put them in. </p>
                                        <img src="static/saved_files/IMG_0555.jpg" height="auto" width="3506">
                                        <p>Shows dimensions for the wobble pickup piece</p>
                                        <img src="static/saved_files/IMG_0556.jpg" height="auto" width="3641">
                                        <p>We are adjusting the intersection of the pick-up bar and the robot mounting bar</p>
                                        <img src="static/saved_files/IMG-1391.jpg" height="auto" width="4032">
                                        <p>Prototype of the piece that will fit on the robot</p>
                                        <img src="static/saved_files/IMG-1390.jpg" height="auto" width="4032">
                                        <p>Showing the prototype in use to pick up the wobble goal effectively</p>
                                    <h3>Plans</h3>
                                        <p>Our next steps are creating the acrylic piece using the dimensions from image one, mounting the piece to the bar (testing both u-channel and flat bar), and testing the function of the new design. The goal is to be able to easily pick up and release the wobble goal. The next steps also include adjusting the distance between the motor on the robot and the end of the bar (picture two). Testing should be completed to find the best solutions for picking up the wobble goal. </p>
                                <h1 class="entry-sprint" id="cardWobble-Goal-pickup-sprint3">Sprint 3</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>12/03/2020</h2>
                            <div class="columns">
                                    Prototyping
                            </div>
                                    <h3>Progress</h3>
                                        <p>Jared designed a new CAD model and drawings of a new prototype for the wobble pick up. The CAD model is in the Onshape shared drive. This new model includes a wider funnel that brings the wobble goal into a half circle that perfectly holds the wobble goal in place. There will also be a bottom piece that will help add more leverage to make it easier to pick up. The top piece was cut out of 3/16 acrylic and tested.  </p>
                                    <h3>Takeaways</h3>
                                        <p>The wider funnel more easily brings the wobble goal to the correct position. Having the design be circular instead of square makes it easier to manipulate the wobble goal. The top piece can pick up the wobble on it's own, but the bottom piece will make it substantially easier. </p>
                                    <h3>Plans</h3>
                                        <p>The top piece needs some adjustments to sizes, and the bottom piece needs to be either 3d printed or bent out of acrylic. The arm might need to be adjusted so both pieces can be mounted correctly.  </p>
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1KVh4y-ejgoS31bMIRZHHEjeFsmmkXau5/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_60559196-b0af-490a-9175-67f61f9ac909.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/quicktime">wobble testing part 2.MOV</span>
                        <span class="bookmark-edited">Last edited by Jared Kennedy 3 months ago</span>
                    </p>
                </a>
            </div>
                                        <img src="static/saved_files/wobble.jpg" height="auto" width="953">
                                        <img src="static/saved_files/File_000.jpeg" height="auto" width="288">
                            <hr>
                            <h2>11/30/2020</h2>
                            <div class="columns">
                            </div>
                                    <h3>Progress</h3>
                                        <p>(Eva) The laser cutter was broken so I make an adapted pick up with the same design that I was going to implement with the bending of acrylic for the pick up.  I shimmed a one block u-channel piece with cardboard and tested it.  It worked well at first but the cardboard quickly degraded.  So we were at a stuck point until the laser was fixed.  When we came back to school cohort 2 had made a design that did not require any any bending and when we tried it out it worked well.  However it broke due to having to many stress points due to cohort 2 lasering out the entire hole pattern which is not necessary.  We then cut out their design but the slot was off centered and two big because this one was not the same design because the first design that broke was filed down after being to small.  I like their design because it would be easier to make them all uniform and reproduce them quickly.  We were also having difficulty with the arm staying stable when picking up the wobble.   We decided that gears would help with stabilization and accuracy of the arm.  I CADed a plate that would hold the gears and motors in place.  I messed up on my hole placement and size so I had to drill out the holes however the gears were still placed to far away from each other.</p>
                                    <h3>Takeaways</h3>
                                        <p>I improved my CAD skills and made a somewhat functional plate even if though some improvements can be made.  </p>
                                    <h3>Plans</h3>
                                        <p>Create a new plate and assemble with new gears that are less worn out and a plate with the correct demetions.  Also allow cohort two to work on there design for the end of the wobble pick up.  We also need to work on the height and length of posts and how we are mounting it.  </p>
                                        <img src="static/saved_files/IMG_0580_2.jpg" height="auto" width="4032">
                                        <div style="display: flex">
                <a class="web-bookmark drive-preview" href="https://drive.google.com/file/d/1Y0EBJ-l2VS_LIvEyrVp16P_5WnhgP5PE/view?usp=drivesdk" style="background-image: url(static/img/drive/bg_4c716e89-7ed9-40a6-b3d7-857994012d82.jpg)">
                    <p>
                        <span class="bookmark-title"><img src="static/saved_files/quicktime">IMG_0582 2.MOV</span>
                        <span class="bookmark-edited">Last edited by Eva Joly 2 months ago</span>
                    </p>
                </a>
            </div>
                            <hr>
                            <h2>12/06/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>(Eva) The new gear plate was made and cut out yesterday.  I assembled the gears on the u-channel with the new plate.  I also cut down the D shaft so it wouldn't be sticking out and interfering with other mechanisms on the robot.  I also attached a go-builda u channel on top of the chassis so we have more flexibility with mounting the wobble pick up.  We mounted the the arm onto the bot and tested it.  </p>
                                    <h3>Takeaways</h3>
                                        <p>When we tested the pick up it did not work the print is does not work as planned.  </p>
                                    <h3>Plans</h3>
                                        <p>Would be talking to cohort two and making a solid plan with what we are doing next.  Figuring out how to best support the wobble pick up.  </p>
                                        <img src="static/saved_files/IMG_1563.jpg" height="auto" width="3024">
                                        <img src="static/saved_files/IMG_1562.jpg" height="auto" width="3024">
                                        <img src="static/saved_files/IMG_1564.jpg" height="auto" width="3024">
                            <hr>
                            <h2>12/15/2020</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>(Lindsay) We made adjustments to the gears, switched them out for ones that fit together better, replaced the gear plate with one that was the correct size and alignment. I also lasered out a prototype of a different mechanism with a mount to fit inside the U-channel. This design didn't work but the CAD files can be found in Drive. Eva and I completed testing using the new design and found inconsistent results. </p>
                                    <h3>Takeaways</h3>
                                        <p>It is important to test multiple designs even if some are outside the box. With a gear plate it is very important that the measurements are accurate to ensure that the gears work together properly.  </p>
                                    <h3>Plans</h3>
                                        <p>Our next step is to finalize a design that works consistently and potentially incorporate other mechanisms to support the wobble beam. </p>
                                <h1 class="entry-sprint" id="cardWobble-Goal-pickup-sprint4">Sprint 4</h1>
                                <div style="display: none">None</div>
                            <hr>
                            <h2>01/08/2021</h2>
                            <div class="columns">
                                    Prototyping
                                    →
                                    Testing
                            </div>
                                    <h3>Progress</h3>
                                        <p>(Jared) I changed the tape on the wobble pick up that was supporting the surgical tubing. I drilled four holes in the wobble pick up plate and tied the surgical tubing in a know at one end. I then slid the surgical tubing through all four holes on the plate.</p>
                                    <h3>Takeaways</h3>
                                        <p>I learned that this was a really easy but effective way to securely hold the surgical tubing, and it can now be easily adjusted, removed, or replaced.</p>
                                        <p>Next Steps </p>
                                        <p>My next steps are to see if I can place a limit switch some where on the wobble pick up plate to sense the wobble goal and automatically close the claw.</p>
                                        <img src="static/saved_files/File_000_(1).jpeg" height="auto" width="3024">
                                        <img src="static/saved_files/File_002.jpeg" height="auto" width="4032">
                            <hr>
                            <h2>02/02/2021</h2>
                            <div class="columns">
                                    Testing
                                    →
                                    Done
                            </div>
                                    <h3>Progress</h3>
                                        <p>(Jared) After a team discussion we have decided that the limit switch on the wobble goal pick up would cause more problems then it would help. We have also decided to change our game plan, so the wobble goal would no longer be interacted with as much. Due to these decisions, we decided to finish testing and designing the wobble goal. </p>
                    </div>
                </div>
            </div>
        <script>
            document.querySelectorAll('pre code').forEach(block => hljs.highlightBlock(block))
        </script>
<svg id="MJX-SVG-global-cache" style="display: none;"><defs><path id="MJX-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-TEX-I-1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-TEX-I-1D719" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path><path id="MJX-TEX-I-1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path><path id="MJX-TEX-S4-23A1" d="M319 -645V1154H666V1070H403V-645H319Z"></path><path id="MJX-TEX-S4-23A3" d="M319 -644V1155H403V-560H666V-644H319Z"></path><path id="MJX-TEX-S4-23A2" d="M319 0V602H403V0H319Z"></path><path id="MJX-TEX-S4-23A4" d="M0 1070V1154H347V-645H263V1070H0Z"></path><path id="MJX-TEX-S4-23A6" d="M263 -560V1155H347V-644H0V-560H263Z"></path><path id="MJX-TEX-S4-23A5" d="M263 0V602H347V0H263Z"></path><path id="MJX-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-TEX-I-1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path><path id="MJX-TEX-N-63" d="M370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320Z"></path><path id="MJX-TEX-N-6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z"></path><path id="MJX-TEX-N-73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z"></path><path id="MJX-TEX-N-2061" d=""></path><path id="MJX-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-TEX-I-1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path><path id="MJX-TEX-N-69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z"></path><path id="MJX-TEX-N-6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z"></path><path id="MJX-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-TEX-I-1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path><path id="MJX-TEX-I-1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path><path id="MJX-TEX-I-1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path><path id="MJX-TEX-I-1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path><path id="MJX-TEX-I-1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path><path id="MJX-TEX-S4-7B" d="M661 -1243L655 -1249H622L604 -1240Q503 -1190 434 -1107T348 -909Q346 -897 346 -499L345 -98L343 -82Q335 3 287 87T157 223Q146 232 145 236Q144 240 144 250Q144 265 145 268T157 278Q242 333 288 417T343 583L345 600L346 1001Q346 1398 348 1410Q379 1622 600 1739L622 1750H655L661 1744V1727V1721Q661 1712 661 1710T657 1705T648 1700T630 1690T602 1668Q589 1659 574 1643T531 1593T484 1508T459 1398Q458 1389 458 1001Q458 614 457 605Q441 435 301 316Q254 277 202 251L250 222Q260 216 301 185Q443 66 457 -104Q458 -113 458 -501Q458 -888 459 -897Q463 -944 478 -988T509 -1060T548 -1114T580 -1149T602 -1167Q620 -1183 634 -1192T653 -1202T659 -1207T661 -1220V-1226V-1243Z"></path><path id="MJX-TEX-N-2260" d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z"></path><path id="MJX-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-TEX-N-2D9" d="M190 609Q190 637 208 653T252 669Q275 667 292 652T309 609Q309 579 292 564T250 549Q225 549 208 564T190 609Z"></path><path id="MJX-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-TEX-I-1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path><path id="MJX-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-TEX-N-20D7" d="M377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694Z"></path><path id="MJX-TEX-I-1D438" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path><path id="MJX-TEX-I-1D43E" d="M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z"></path><path id="MJX-TEX-I-1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path><path id="MJX-TEX-I-1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path><path id="MJX-TEX-N-22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path><path id="MJX-TEX-SO-222B" d="M113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q220 -247 232 -218T251 -133T262 -15T276 155T297 367Q300 390 305 438T314 512T325 580T340 647T361 703T390 751T428 784T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q475 768 460 756T434 716T418 652T407 559T398 444T387 300T369 133Q349 -38 337 -102T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244Z"></path><path id="MJX-TEX-I-1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path><path id="MJX-TEX-N-2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path><path id="MJX-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-TEX-N-7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path><path id="MJX-TEX-I-1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path><path id="MJX-TEX-I-1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-TEX-N-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path id="MJX-TEX-N-2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path><path id="MJX-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-TEX-I-1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"></path><path id="MJX-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path id="MJX-TEX-N-3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path><path id="MJX-TEX-N-39" d="M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z"></path><path id="MJX-TEX-N-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path id="MJX-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path id="MJX-TEX-N-38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path></defs></svg></body></html>
